--- net/minecraft/src/ModelRenderer.java
+++ net/minecraft/src/ModelRenderer.java
@@ -13,15 +13,22 @@
 	public float rotateAngleX;
 	public float rotateAngleY;
 	public float rotateAngleZ;
+	public float field_35977_i;
+	public float field_35975_j;
+	public float field_35976_k;
+	public float field_35973_l;
+	public float field_35974_m;
+	public float field_35972_n;
 	private boolean compiled = false;
 	private int displayList = 0;
 	public boolean mirror = false;
 	public boolean showModel = true;
 	public boolean field_1402_i = false;
 
-	public ModelRenderer(int var1, int var2) {
-		this.textureOffsetX = var1;
-		this.textureOffsetY = var2;
+	public ModelRenderer(ModelBase var1, int var2, int var3) {
+		this.textureOffsetX = var2;
+		this.textureOffsetY = var3;
+		var1.field_35394_j.add(this);
 	}
 
 	public void addBox(float var1, float var2, float var3, int var4, int var5, int var6) {
@@ -29,6 +36,12 @@
 	}
 
 	public void addBox(float var1, float var2, float var3, int var4, int var5, int var6, float var7) {
+		this.field_35977_i = var1;
+		this.field_35975_j = var2;
+		this.field_35976_k = var3;
+		this.field_35973_l = var1 + (float)var4;
+		this.field_35974_m = var2 + (float)var5;
+		this.field_35972_n = var3 + (float)var6;
 		this.corners = new PositionTextureVertex[8];
 		this.faces = new TexturedQuad[6];
 		float var8 = var1 + (float)var4;
--- net/minecraft/src/ModelChicken.java
+++ net/minecraft/src/ModelChicken.java
@@ -12,28 +12,28 @@
 
 	public ModelChicken() {
 		byte var1 = 16;
-		this.head = new ModelRenderer(0, 0);
+		this.head = new ModelRenderer(this, 0, 0);
 		this.head.addBox(-2.0F, -6.0F, -2.0F, 4, 6, 3, 0.0F);
 		this.head.setRotationPoint(0.0F, (float)(-1 + var1), -4.0F);
-		this.bill = new ModelRenderer(14, 0);
+		this.bill = new ModelRenderer(this, 14, 0);
 		this.bill.addBox(-2.0F, -4.0F, -4.0F, 4, 2, 2, 0.0F);
 		this.bill.setRotationPoint(0.0F, (float)(-1 + var1), -4.0F);
-		this.chin = new ModelRenderer(14, 4);
+		this.chin = new ModelRenderer(this, 14, 4);
 		this.chin.addBox(-1.0F, -2.0F, -3.0F, 2, 2, 2, 0.0F);
 		this.chin.setRotationPoint(0.0F, (float)(-1 + var1), -4.0F);
-		this.body = new ModelRenderer(0, 9);
+		this.body = new ModelRenderer(this, 0, 9);
 		this.body.addBox(-3.0F, -4.0F, -3.0F, 6, 8, 6, 0.0F);
 		this.body.setRotationPoint(0.0F, (float)(0 + var1), 0.0F);
-		this.rightLeg = new ModelRenderer(26, 0);
+		this.rightLeg = new ModelRenderer(this, 26, 0);
 		this.rightLeg.addBox(-1.0F, 0.0F, -3.0F, 3, 5, 3);
 		this.rightLeg.setRotationPoint(-2.0F, (float)(3 + var1), 1.0F);
-		this.leftLeg = new ModelRenderer(26, 0);
+		this.leftLeg = new ModelRenderer(this, 26, 0);
 		this.leftLeg.addBox(-1.0F, 0.0F, -3.0F, 3, 5, 3);
 		this.leftLeg.setRotationPoint(1.0F, (float)(3 + var1), 1.0F);
-		this.rightWing = new ModelRenderer(24, 13);
+		this.rightWing = new ModelRenderer(this, 24, 13);
 		this.rightWing.addBox(0.0F, 0.0F, -3.0F, 1, 4, 6);
 		this.rightWing.setRotationPoint(-4.0F, (float)(-3 + var1), 0.0F);
-		this.leftWing = new ModelRenderer(24, 13);
+		this.leftWing = new ModelRenderer(this, 24, 13);
 		this.leftWing.addBox(-1.0F, 0.0F, -3.0F, 1, 4, 6);
 		this.leftWing.setRotationPoint(4.0F, (float)(-3 + var1), 0.0F);
 	}
--- net/minecraft/src/ItemSpade.java
+++ net/minecraft/src/ItemSpade.java
@@ -1,7 +1,7 @@
 package net.minecraft.src;
 
 public class ItemSpade extends ItemTool {
-	private static Block[] blocksEffectiveAgainst = new Block[]{Block.grass, Block.dirt, Block.sand, Block.gravel, Block.snow, Block.blockSnow, Block.blockClay, Block.tilledField};
+	private static Block[] blocksEffectiveAgainst = new Block[]{Block.grass, Block.dirt, Block.sand, Block.gravel, Block.snow, Block.blockSnow, Block.blockClay, Block.tilledField, Block.slowSand};
 
 	public ItemSpade(int var1, EnumToolMaterial var2) {
 		super(var1, 1, var2, blocksEffectiveAgainst);
--- net/minecraft/src/ModelBoat.java
+++ net/minecraft/src/ModelBoat.java
@@ -4,11 +4,11 @@
 	public ModelRenderer[] boatSides = new ModelRenderer[5];
 
 	public ModelBoat() {
-		this.boatSides[0] = new ModelRenderer(0, 8);
-		this.boatSides[1] = new ModelRenderer(0, 0);
-		this.boatSides[2] = new ModelRenderer(0, 0);
-		this.boatSides[3] = new ModelRenderer(0, 0);
-		this.boatSides[4] = new ModelRenderer(0, 0);
+		this.boatSides[0] = new ModelRenderer(this, 0, 8);
+		this.boatSides[1] = new ModelRenderer(this, 0, 0);
+		this.boatSides[2] = new ModelRenderer(this, 0, 0);
+		this.boatSides[3] = new ModelRenderer(this, 0, 0);
+		this.boatSides[4] = new ModelRenderer(this, 0, 0);
 		byte var1 = 24;
 		byte var2 = 6;
 		byte var3 = 20;
--- net/minecraft/src/ItemFood.java
+++ net/minecraft/src/ItemFood.java
@@ -12,8 +12,17 @@
 	}
 
 	public ItemStack onItemRightClick(ItemStack var1, World var2, EntityPlayer var3) {
+		if(var3.health >= 20) {
+			return var1;
+		}
+		
 		--var1.stackSize;
-		var3.heal(this.healAmount);
+		var3.healAmount += this.healAmount;
+		var2.playSoundAtEntity(var3, "random.eat", 0.5F + 0.5F * (float)var3.rand.nextInt(2), (var3.rand.nextFloat() - var3.rand.nextFloat()) * 0.2F + 1.0F);
+		if(this.healAmount + var3.health >= 20) {
+			var2.playSoundAtEntity(var3, "random.burp", 0.5F, var2.rand.nextFloat() * 0.1F + 0.9F);
+		}
+		
 		return var1;
 	}
 
--- net/minecraft/src/RenderBlocks.java
+++ net/minecraft/src/RenderBlocks.java
@@ -1499,14 +1499,19 @@
 			float var36;
 			float var37;
 			float var38;
+			float var29;
 			if(this.renderAllFaces || var10) {
 				var13 = true;
 				var28 = var1.getBlockTextureFromSideAndMetadata(1, var23);
-				float var29 = (float)BlockFluid.func_293_a(this.blockAccess, var2, var3, var4, var22);
+				var29 = (float)BlockFluid.func_293_a(this.blockAccess, var2, var3, var4, var22);
 				if(var29 > -999.0F) {
 					var28 = var1.getBlockTextureFromSideAndMetadata(2, var23);
 				}
 
+				var24 -= 0.001F;
+				var25 -= 0.001F;
+				var26 -= 0.001F;
+				var27 -= 0.001F;
 				int var30 = (var28 & 15) << 4;
 				var31 = var28 & 240;
 				double var32 = ((double)var30 + 8.0D) / 256.0D;
@@ -1529,8 +1534,8 @@
 			}
 
 			if(this.renderAllFaces || var11) {
-				float var52 = var1.getBlockBrightness(this.blockAccess, var2, var3 - 1, var4);
-				var5.setColorOpaque_F(var14 * var52, var14 * var52, var14 * var52);
+				var29 = var1.getBlockBrightness(this.blockAccess, var2, var3 - 1, var4);
+				var5.setColorOpaque_F(var14 * var29 * var7, var14 * var29 * var8, var14 * var29 * var9);
 				this.renderBottomFace(var1, (double)var2, (double)var3, (double)var4, var1.getBlockTextureFromSide(0));
 				var13 = true;
 			}
@@ -3179,18 +3184,21 @@
 
 	public void renderBlockOnInventory(Block var1, int var2, float var3) {
 		Tessellator var4 = Tessellator.instance;
+		boolean var69 = var1.blockID == Block.grass.blockID;
 		int var5;
 		float var6;
 		float var7;
+		float var8;
 		if(this.field_31088_b) {
 			var5 = var1.getRenderColor(var2);
 			var6 = (float)(var5 >> 16 & 255) / 255.0F;
 			var7 = (float)(var5 >> 8 & 255) / 255.0F;
-			float var8 = (float)(var5 & 255) / 255.0F;
+			var8 = (float)(var5 & 255) / 255.0F;
 			GL11.glColor4f(var6 * var3, var7 * var3, var8 * var3, 1.0F);
 		}
 
 		var5 = var1.getRenderType();
+		int var9;
 		if(var5 != 0 && var5 != 16) {
 			if(var5 == 1) {
 				var4.startDrawingQuads();
@@ -3245,7 +3253,6 @@
 				this.renderTorchAtAngle(var1, -0.5D, -0.5D, -0.5D, 0.0D, 0.0D);
 				var4.draw();
 			} else {
-				int var9;
 				if(var5 == 10) {
 					for(var9 = 0; var9 < 2; ++var9) {
 						if(var9 == 0) {
@@ -3339,32 +3346,93 @@
 				var2 = 1;
 			}
 
-			var1.setBlockBoundsForItemRender();
-			GL11.glTranslatef(-0.5F, -0.5F, -0.5F);
-			var4.startDrawingQuads();
-			var4.setNormal(0.0F, -1.0F, 0.0F);
-			this.renderBottomFace(var1, 0.0D, 0.0D, 0.0D, var1.getBlockTextureFromSideAndMetadata(0, var2));
-			var4.draw();
-			var4.startDrawingQuads();
-			var4.setNormal(0.0F, 1.0F, 0.0F);
-			this.renderTopFace(var1, 0.0D, 0.0D, 0.0D, var1.getBlockTextureFromSideAndMetadata(1, var2));
-			var4.draw();
-			var4.startDrawingQuads();
-			var4.setNormal(0.0F, 0.0F, -1.0F);
-			this.renderEastFace(var1, 0.0D, 0.0D, 0.0D, var1.getBlockTextureFromSideAndMetadata(2, var2));
-			var4.draw();
-			var4.startDrawingQuads();
-			var4.setNormal(0.0F, 0.0F, 1.0F);
-			this.renderWestFace(var1, 0.0D, 0.0D, 0.0D, var1.getBlockTextureFromSideAndMetadata(3, var2));
-			var4.draw();
-			var4.startDrawingQuads();
-			var4.setNormal(-1.0F, 0.0F, 0.0F);
-			this.renderNorthFace(var1, 0.0D, 0.0D, 0.0D, var1.getBlockTextureFromSideAndMetadata(4, var2));
-			var4.draw();
-			var4.startDrawingQuads();
-			var4.setNormal(1.0F, 0.0F, 0.0F);
-			this.renderSouthFace(var1, 0.0D, 0.0D, 0.0D, var1.getBlockTextureFromSideAndMetadata(5, var2));
-			var4.draw();
+			if(var69 && this.field_31088_b) {
+				var7 = (float)(ColorizerGrass.getGrassColor(0.96D, 0.44D) >> 16 & 255) / 255.0F;
+				var8 = (float)(ColorizerGrass.getGrassColor(0.96D, 0.44D) >> 8 & 255) / 255.0F;
+				float var10 = (float)(ColorizerGrass.getGrassColor(0.96D, 0.44D) & 255) / 255.0F;
+				var1.setBlockBoundsForItemRender();
+				GL11.glTranslatef(-0.5F, -0.5F, -0.5F);
+				var4.startDrawingQuads();
+				var4.setNormal(0.0F, -1.0F, 0.0F);
+				this.renderBottomFace(var1, 0.0D, 0.0D, 0.0D, var1.getBlockTextureFromSideAndMetadata(0, var2));
+				var4.draw();
+				GL11.glColor3f(var7, var8, var10);
+				var4.startDrawingQuads();
+				var4.setNormal(0.0F, 1.0F, 0.0F);
+				this.renderTopFace(var1, 0.0D, 0.0D, 0.0D, var1.getBlockTextureFromSideAndMetadata(1, var2));
+				var4.draw();
+				GL11.glColor3f(1.0F, 1.0F, 1.0F);
+				var4.startDrawingQuads();
+				var4.setNormal(0.0F, 0.0F, -1.0F);
+				this.renderEastFace(var1, 0.0D, 0.0D, 0.0D, var1.getBlockTextureFromSideAndMetadata(2, var2));
+				var4.draw();
+				var4.startDrawingQuads();
+				var4.setNormal(0.0F, 0.0F, 1.0F);
+				this.renderWestFace(var1, 0.0D, 0.0D, 0.0D, var1.getBlockTextureFromSideAndMetadata(3, var2));
+				var4.draw();
+				var4.startDrawingQuads();
+				var4.setNormal(-1.0F, 0.0F, 0.0F);
+				this.renderNorthFace(var1, 0.0D, 0.0D, 0.0D, var1.getBlockTextureFromSideAndMetadata(4, var2));
+				var4.draw();
+				var4.startDrawingQuads();
+				var4.setNormal(1.0F, 0.0F, 0.0F);
+				this.renderSouthFace(var1, 0.0D, 0.0D, 0.0D, var1.getBlockTextureFromSideAndMetadata(5, var2));
+				var4.draw();
+				if(fancyGrass) {
+					GL11.glColor3f(var7, var8, var10);
+					var4.startDrawingQuads();
+					var4.setNormal(0.0F, 0.0F, -1.0F);
+					this.renderEastFace(var1, 0.0D, 0.0D, 0.0D, 38);
+					var4.draw();
+					GL11.glColor3f(1.0F, 1.0F, 1.0F);
+					GL11.glColor3f(var7, var8, var10);
+					var4.startDrawingQuads();
+					var4.setNormal(0.0F, 0.0F, 1.0F);
+					this.renderWestFace(var1, 0.0D, 0.0D, 0.0D, 38);
+					var4.draw();
+					GL11.glColor3f(1.0F, 1.0F, 1.0F);
+					GL11.glColor3f(var7, var8, var10);
+					var4.startDrawingQuads();
+					var4.setNormal(-1.0F, 0.0F, 0.0F);
+					this.renderNorthFace(var1, 0.0D, 0.0D, 0.0D, 38);
+					var4.draw();
+					GL11.glColor3f(1.0F, 1.0F, 1.0F);
+					GL11.glColor3f(var7, var8, var10);
+					var4.startDrawingQuads();
+					var4.setNormal(1.0F, 0.0F, 0.0F);
+					this.renderSouthFace(var1, 0.0D, 0.0D, 0.0D, 38);
+					var4.draw();
+				}
+			} else {
+				var1.setBlockBoundsForItemRender();
+				GL11.glTranslatef(-0.5F, -0.5F, -0.5F);
+				var4.startDrawingQuads();
+				var4.setNormal(0.0F, -1.0F, 0.0F);
+				this.renderBottomFace(var1, 0.0D, 0.0D, 0.0D, var1.getBlockTextureFromSideAndMetadata(0, var2));
+				var4.draw();
+				var4.startDrawingQuads();
+				var4.setNormal(0.0F, 1.0F, 0.0F);
+				this.renderTopFace(var1, 0.0D, 0.0D, 0.0D, var1.getBlockTextureFromSideAndMetadata(1, var2));
+				var4.draw();
+				var4.startDrawingQuads();
+				var4.setNormal(0.0F, 0.0F, -1.0F);
+				this.renderEastFace(var1, 0.0D, 0.0D, 0.0D, var1.getBlockTextureFromSideAndMetadata(2, var2));
+				var4.draw();
+				var4.startDrawingQuads();
+				var4.setNormal(0.0F, 0.0F, 1.0F);
+				this.renderWestFace(var1, 0.0D, 0.0D, 0.0D, var1.getBlockTextureFromSideAndMetadata(3, var2));
+				var4.draw();
+				var4.startDrawingQuads();
+				var4.setNormal(-1.0F, 0.0F, 0.0F);
+				this.renderNorthFace(var1, 0.0D, 0.0D, 0.0D, var1.getBlockTextureFromSideAndMetadata(4, var2));
+				var4.draw();
+				var4.startDrawingQuads();
+				var4.setNormal(1.0F, 0.0F, 0.0F);
+				this.renderSouthFace(var1, 0.0D, 0.0D, 0.0D, var1.getBlockTextureFromSideAndMetadata(5, var2));
+				var4.draw();
+				
+			}
+
 			GL11.glTranslatef(0.5F, 0.5F, 0.5F);
 		}
 
--- net/minecraft/src/BlockFlowing.java
+++ net/minecraft/src/BlockFlowing.java
@@ -49,9 +49,9 @@
 			}
 
 			if(this.numAdjacentSources >= 2 && this.blockMaterial == Material.water) {
-				if(var1.getBlockMaterial(var2, var3 - 1, var4).isSolid()) {
+				if(this.blockBlocksFlow(var1, var2, var3 - 1, var4)) {
 					var10 = 0;
-				} else if(var1.getBlockMaterial(var2, var3 - 1, var4) == this.blockMaterial && var1.getBlockMetadata(var2, var3, var4) == 0) {
+				} else if(var1.getBlockMaterial(var2, var3 - 1, var4) == this.blockMaterial && var1.getBlockMetadata(var2, var3 - 1, var4) == 0) {
 					var10 = 0;
 				}
 			}
@@ -78,6 +78,12 @@
 		}
 
 		if(this.liquidCanDisplaceBlock(var1, var2, var3 - 1, var4)) {
+			if(this.blockMaterial == Material.lava && var1.getBlockMaterial(var2, var3 - 1, var4) == Material.water) {
+				var1.setBlockWithNotify(var2, var3 - 1, var4, Block.stone.blockID);
+				this.triggerLavaMixEffects(var1, var2, var3 - 1, var4);
+				return;
+			}
+
 			if(var6 >= 8) {
 				var1.setBlockAndMetadataWithNotify(var2, var3 - 1, var4, this.blockID, var6);
 			} else {
--- net/minecraft/src/World.java
+++ net/minecraft/src/World.java
@@ -1923,7 +1923,26 @@
 			}
 
 			int var15;
-			if(this.rand.nextInt(16) == 0) {
+			if(this.worldProvider.worldType == 0) {
+				if(this.rand.nextInt(4) == 0) {
+					this.field_9437_g = this.field_9437_g * 3 + this.field_9436_h;
+					var6 = this.field_9437_g >> 2;
+					var7 = var6 & 0xF;
+					var8 = var6 >> 8 & 0xF;
+					var9 = this.findTopSolidBlock(var7 + var3, var8 + var4);
+					if(var9 >= 0 && var9 < 128 && var14.getSavedLightValue(EnumSkyBlock.Block, var7, var9, var8) < 10) {
+						var10 = var14.getBlockID(var7, var9 - 1, var8);
+						var15 = var14.getBlockID(var7, var9, var8);
+						if(var15 == 0 && Block.snow.canPlaceBlockAt(this, var7 + var3, var9, var8 + var4) && var10 != 0 && var10 != Block.ice.blockID && Block.blocksList[var10].blockMaterial.getIsSolid()) {
+							this.setBlockWithNotify(var7 + var3, var9, var8 + var4, Block.snow.blockID);
+						}
+
+						if(var10 == Block.waterStill.blockID && var14.getBlockMetadata(var7, var9 - 1, var8) == 0) {
+							this.setBlockWithNotify(var7 + var3, var9 - 1, var8 + var4, Block.ice.blockID);
+						}
+					}
+				}
+			} else if(this.rand.nextInt(16) == 0) {
 				this.field_9437_g = this.field_9437_g * 3 + 1013904223;
 				var6 = this.field_9437_g >> 2;
 				var7 = var6 & 15;
@@ -2395,10 +2414,18 @@
 	}
 
 	public float func_27166_f(float var1) {
+		if(this.worldProvider.worldType != 0) {
+			return 0.0F;
+		}
+
 		return (this.prevThunderingStrength + (this.thunderingStrength - this.prevThunderingStrength) * var1) * this.func_27162_g(var1);
 	}
 
 	public float func_27162_g(float var1) {
+		if(this.worldProvider.worldType != 0) {
+			return 0.0F;
+		}
+
 		return this.prevRainingStrength + (this.rainingStrength - this.prevRainingStrength) * var1;
 	}
 
--- /dev/null
+++ net/minecraft/src/EntityFirefliesFX.java
@@ -1,0 +1,104 @@
+package net.minecraft.src;
+
+public class EntityFirefliesFX extends EntityFX {
+	private float firefliesScale;
+
+	public EntityFirefliesFX(World var1, double var2, double var4, double var6, double var8, double var10, double var12) {
+		super(var1, var2, var4, var6, var8, var10, var12);
+		this.posX = var2 + (double)((this.rand.nextFloat() - this.rand.nextFloat()) * 0.05F);
+		this.posY = var4 + (double)((this.rand.nextFloat() - this.rand.nextFloat()) * 0.05F);
+		this.posZ = var6 + (double)((this.rand.nextFloat() - this.rand.nextFloat()) * 0.05F);
+		this.motionX = this.motionX * 0.01D + var8;
+		this.motionY = this.motionY * 0.01D + var10;
+		this.motionZ = this.motionZ * 0.01D + var12;
+		this.firefliesScale = this.particleScale;
+		this.particleRed = (181.0F + this.rand.nextFloat() * 74.0F) / 255.0F;
+		this.particleGreen = (218.0F + this.rand.nextFloat() * 20.0F) / 255.0F;
+		this.particleBlue = this.rand.nextFloat() * 79.0F / 255.0F;
+		this.particleMaxAge = (int)(8.0D / (Math.random() * 0.8D + 0.2D)) + 64;
+		this.noClip = true;
+		this.particleTextureIndex = 97;
+	}
+
+	public void renderParticle(Tessellator var1, float var2, float var3, float var4, float var5, float var6, float var7) {
+		float var8 = ((float)this.particleAge + var2) / (float)this.particleMaxAge;
+		this.particleScale = this.firefliesScale * (1.0F - var8 * var8 * 0.5F);
+		float var9 = (float)(this.particleTextureIndex % 16) / 16.0F;
+		float var10 = var9 + 0.999F / 16.0F;
+		float var11 = (float)(this.particleTextureIndex / 16) / 16.0F;
+		float var12 = var11 + 0.999F / 16.0F;
+		float var13 = 0.1F * this.particleScale;
+		float var14 = (float)(this.prevPosX + (this.posX - this.prevPosX) * (double)var2 - interpPosX);
+		float var15 = (float)(this.prevPosY + (this.posY - this.prevPosY) * (double)var2 - interpPosY);
+		float var16 = (float)(this.prevPosZ + (this.posZ - this.prevPosZ) * (double)var2 - interpPosZ);
+		float var17 = this.getEntityBrightness(var2);
+		var1.setColorOpaque_F(this.particleRed * var17, this.particleGreen * var17, this.particleBlue * var17);
+		var1.addVertexWithUV((double)(var14 - var3 * var13 - var6 * var13), (double)(var15 - var4 * var13), (double)(var16 - var5 * var13 - var7 * var13), (double)var10, (double)var12);
+		var1.addVertexWithUV((double)(var14 - var3 * var13 + var6 * var13), (double)(var15 + var4 * var13), (double)(var16 - var5 * var13 + var7 * var13), (double)var10, (double)var11);
+		var1.addVertexWithUV((double)(var14 + var3 * var13 + var6 * var13), (double)(var15 + var4 * var13), (double)(var16 + var5 * var13 + var7 * var13), (double)var9, (double)var11);
+		var1.addVertexWithUV((double)(var14 + var3 * var13 - var6 * var13), (double)(var15 - var4 * var13), (double)(var16 + var5 * var13 - var7 * var13), (double)var9, (double)var12);
+		var9 += 2.0F / 16.0F;
+		var10 += 2.0F / 16.0F;
+		var1.setColorOpaque_F(var17, var17, var17);
+		var1.addVertexWithUV((double)(var14 - var3 * var13 - var6 * var13), (double)(var15 - var4 * var13), (double)(var16 - var5 * var13 - var7 * var13), (double)var10, (double)var12);
+		var1.addVertexWithUV((double)(var14 - var3 * var13 + var6 * var13), (double)(var15 + var4 * var13), (double)(var16 - var5 * var13 + var7 * var13), (double)var10, (double)var11);
+		var1.addVertexWithUV((double)(var14 + var3 * var13 + var6 * var13), (double)(var15 + var4 * var13), (double)(var16 + var5 * var13 + var7 * var13), (double)var9, (double)var11);
+		var1.addVertexWithUV((double)(var14 + var3 * var13 - var6 * var13), (double)(var15 - var4 * var13), (double)(var16 + var5 * var13 - var7 * var13), (double)var9, (double)var12);
+	}
+
+	public float getEntityBrightness(float var1) {
+		float var2 = ((float)this.particleAge + var1) / (float)this.particleMaxAge;
+		if(var2 < 0.0F) {
+			var2 = 0.0F;
+		}
+
+		if(var2 > 1.0F) {
+			var2 = 1.0F;
+		}
+
+		float var3 = super.getEntityBrightness(var1);
+		return var3 * (1.0F - var2) + var2;
+	}
+
+	public void onUpdate() {
+		this.prevPosX = this.posX;
+		this.prevPosY = this.posY;
+		this.prevPosZ = this.posZ;
+		if(this.particleAge++ >= this.particleMaxAge) {
+			this.setEntityDead();
+		}
+
+		float var1 = this.rand.nextFloat() * 0.1F;
+		float var2 = this.rand.nextFloat() * 0.1F;
+		float var3 = this.rand.nextFloat() * 0.1F;
+		if(this.rand.nextInt(2) == 0) {
+			var1 *= -1.0F;
+		}
+
+		if(this.rand.nextInt(2) == 0) {
+			var2 *= -1.0F;
+		}
+
+		if(this.rand.nextInt(2) == 0) {
+			var3 *= -1.0F;
+		}
+
+		this.motionX -= (double)(var1 * 0.1F);
+		this.motionY += (double)(var2 * 0.1F);
+		this.motionZ -= (double)(var3 * 0.1F);
+		this.motionX = (double)var1;
+		this.motionY = (double)var2;
+		this.motionZ = (double)var3;
+		if(this.particleAge % 10 == 0) {
+			this.motionX = (double)var1;
+			this.motionY = (double)var2;
+			this.motionZ = (double)var3;
+		}
+
+		this.moveEntity(this.motionX, this.motionY, this.motionZ);
+		if(this.onGround) {
+			this.setEntityDead();
+		}
+
+	}
+}
--- net/minecraft/src/EntityPig.java
+++ net/minecraft/src/EntityPig.java
@@ -43,6 +43,10 @@
 	}
 
 	protected int getDropItemId() {
+		if(this.getSaddled()) {
+			this.dropItem(Item.saddle.shiftedIndex, 1);
+		}
+
 		return this.fire > 0 ? Item.porkCooked.shiftedIndex : Item.porkRaw.shiftedIndex;
 	}
 
--- net/minecraft/src/EntityRenderer.java
+++ net/minecraft/src/EntityRenderer.java
@@ -35,6 +35,9 @@
 	private float field_22221_y = 0.0F;
 	private float field_22220_z = 0.0F;
 	private float field_22230_A = 0.0F;
+	private float fovModifierHand;
+	private float fovModifierHandPrev;
+	private float fovMultiplierTemp;
 	private boolean cloudFog = false;
 	private double cameraZoom = 1.0D;
 	private double cameraYaw = 0.0D;
@@ -58,6 +61,7 @@
 	}
 
 	public void updateRenderer() {
+		this.updateFovModifierHand();
 		this.fogColor2 = this.fogColor1;
 		this.field_22227_s = this.field_22228_r;
 		this.field_22225_u = this.field_22226_t;
@@ -134,19 +138,31 @@
 		}
 	}
 
-	private float getFOVModifier(float var1) {
-		EntityLiving var2 = this.mc.renderViewEntity;
-		float var3 = 70.0F;
-		if(var2.isInsideOfMaterial(Material.water)) {
-			var3 = 60.0F;
-		}
-
-		if(var2.health <= 0) {
-			float var4 = (float)var2.deathTime + var1;
-			var3 /= (1.0F - 500.0F / (var4 + 500.0F)) * 2.0F + 1.0F;
-		}
-
-		return var3 + this.field_22221_y + (this.field_22222_x - this.field_22221_y) * var1;
+	private void updateFovModifierHand() {
+		EntityPlayerSP var1 = (EntityPlayerSP)this.mc.renderViewEntity;
+		this.fovMultiplierTemp = var1.getFOVMultiplier();
+		this.fovModifierHandPrev = this.fovModifierHand;
+		this.fovModifierHand += (this.fovMultiplierTemp - this.fovModifierHand) * 0.5F;
+	}
+
+	private float getFOVModifier(float var1, boolean var2) {
+		EntityPlayer var3 = (EntityPlayer)this.mc.renderViewEntity;
+		float var4 = 70.0F;
+		if(var2) {
+			var4 += this.mc.gameSettings.fovSetting * 40.0F;
+			var4 *= this.fovModifierHandPrev + (this.fovModifierHand - this.fovModifierHandPrev) * var1;
+		}
+
+		if(var3.health <= 0) {
+			float var5 = (float)var3.deathTime + var1;
+			var4 /= (1.0F - 500.0F / (var5 + 500.0F)) * 2.0F + 1.0F;
+		}
+
+		if(var3.isInsideOfMaterial(Material.water)) {
+			var4 *= 0.857142857F;
+		}
+
+		return var4 + this.field_22221_y + (this.field_22222_x - this.field_22221_y) * var1;
 	}
 
 	private void hurtCameraEffect(float var1) {
@@ -270,9 +286,9 @@
 		if(this.cameraZoom != 1.0D) {
 			GL11.glTranslatef((float)this.cameraYaw, (float)(-this.cameraPitch), 0.0F);
 			GL11.glScaled(this.cameraZoom, this.cameraZoom, 1.0D);
-			GLU.gluPerspective(this.getFOVModifier(var1), (float)this.mc.displayWidth / (float)this.mc.displayHeight, 0.05F, this.farPlaneDistance * 2.0F);
+			GLU.gluPerspective(this.getFOVModifier(var1, true), (float)this.mc.displayWidth / (float)this.mc.displayHeight, 0.05F, this.farPlaneDistance * 2.0F);
 		} else {
-			GLU.gluPerspective(this.getFOVModifier(var1), (float)this.mc.displayWidth / (float)this.mc.displayHeight, 0.05F, this.farPlaneDistance * 2.0F);
+			GLU.gluPerspective(this.getFOVModifier(var1, true), (float)this.mc.displayWidth / (float)this.mc.displayHeight, 0.05F, this.farPlaneDistance * 2.0F);
 		}
 
 		GL11.glMatrixMode(GL11.GL_MODELVIEW);
@@ -299,6 +315,22 @@
 	}
 
 	private void func_4135_b(float var1, int var2) {
+		GL11.glMatrixMode(GL11.GL_PROJECTION);
+		GL11.glLoadIdentity();
+		float var3 = 0.07F;
+		if(this.mc.gameSettings.anaglyph) {
+			GL11.glTranslatef((float)(-(var2 * 2 - 1)) * var3, 0.0F, 0.0F);
+		}
+
+		if(this.cameraZoom != 1.0D) {
+			GL11.glTranslatef((float)this.cameraYaw, (float)(-this.cameraPitch), 0.0F);
+			GL11.glScaled(this.cameraZoom, this.cameraZoom, 1.0D);
+			GLU.gluPerspective(this.getFOVModifier(var1, false), (float)this.mc.displayWidth / (float)this.mc.displayHeight, 0.05F, this.farPlaneDistance * 2.0F);
+		} else {
+			GLU.gluPerspective(this.getFOVModifier(var1, false), (float)this.mc.displayWidth / (float)this.mc.displayHeight, 0.05F, this.farPlaneDistance * 2.0F);
+		}
+
+		GL11.glMatrixMode(GL11.GL_MODELVIEW);
 		GL11.glLoadIdentity();
 		if(this.mc.gameSettings.anaglyph) {
 			GL11.glTranslatef((float)(var2 * 2 - 1) * 0.1F, 0.0F, 0.0F);
@@ -634,6 +666,76 @@
 	}
 
 	protected void renderRainSnow(float var1) {
+		if(this.mc.theWorld.worldProvider.worldType == 0) {
+			EntityLiving var2 = this.mc.renderViewEntity;
+			World var3 = this.mc.theWorld;
+			int var4 = MathHelper.floor_double(var2.posX);
+			int var5 = MathHelper.floor_double(var2.posY);
+			int var6 = MathHelper.floor_double(var2.posZ);
+			Tessellator var7 = Tessellator.instance;
+			GL11.glDisable(GL11.GL_CULL_FACE);
+			GL11.glNormal3f(0.0F, 1.0F, 0.0F);
+			GL11.glEnable(GL11.GL_BLEND);
+			GL11.glBlendFunc(GL11.GL_SRC_ALPHA, GL11.GL_ONE_MINUS_SRC_ALPHA);
+			GL11.glBindTexture(GL11.GL_TEXTURE_2D, this.mc.renderEngine.getTexture("/environment/snow.png"));
+			double var8 = var2.lastTickPosX + (var2.posX - var2.lastTickPosX) * (double)var1;
+			double var10 = var2.lastTickPosY + (var2.posY - var2.lastTickPosY) * (double)var1;
+			double var12 = var2.lastTickPosZ + (var2.posZ - var2.lastTickPosZ) * (double)var1;
+			byte var14 = 5;
+			if(this.mc.gameSettings.fancyGraphics) {
+				var14 = 10;
+			}
+
+			for(int var15 = var4 - var14; var15 <= var4 + var14; ++var15) {
+				for(int var16 = var6 - var14; var16 <= var6 + var14; ++var16) {
+					int var17 = var3.findTopSolidBlock(var15, var16);
+					if(var17 < 0) {
+						var17 = 0;
+					}
+
+					int var18 = var5 - var14;
+					int var19 = var5 + var14;
+					if(var18 < var17) {
+						var18 = var17;
+					}
+
+					if(var19 < var17) {
+						var19 = var17;
+					}
+
+					float var20 = 2.0F;
+					if(var18 != var19) {
+						this.random.setSeed((long)(var15 * var15 * 3121 + var15 * 45238971 + var16 * var16 * 418711 + var16 * 13761));
+						float var21 = (float)this.rendererUpdateCount + var1;
+						float var22 = ((float)(this.rendererUpdateCount & 511) + var1) / 512.0F;
+						float var23 = this.random.nextFloat() + var21 * 0.01F * (float)this.random.nextGaussian();
+						float var24 = this.random.nextFloat() + var21 * (float)this.random.nextGaussian() * 0.001F;
+						double var25 = (double)((float)var15 + 0.5F) - var2.posX;
+						double var27 = (double)((float)var16 + 0.5F) - var2.posZ;
+						float var29 = MathHelper.sqrt_double(var25 * var25 + var27 * var27) / (float)var14;
+						var7.startDrawingQuads();
+						float var30 = var3.getLightBrightness(var15, 128, var16);
+						GL11.glColor4f(var30, var30, var30, (1.0F - var29 * var29) * 0.7F);
+						var7.setTranslationD(-var8 * 1.0D, -var10 * 1.0D, -var12 * 1.0D);
+						var7.addVertexWithUV((double)(var15 + 0), (double)var18, (double)(var16 + 0), (double)(0.0F * var20 + var23), (double)((float)var18 * var20 / 8.0F + var22 * var20 + var24));
+						var7.addVertexWithUV((double)(var15 + 1), (double)var18, (double)(var16 + 1), (double)(1.0F * var20 + var23), (double)((float)var18 * var20 / 8.0F + var22 * var20 + var24));
+						var7.addVertexWithUV((double)(var15 + 1), (double)var19, (double)(var16 + 1), (double)(1.0F * var20 + var23), (double)((float)var19 * var20 / 8.0F + var22 * var20 + var24));
+						var7.addVertexWithUV((double)(var15 + 0), (double)var19, (double)(var16 + 0), (double)(0.0F * var20 + var23), (double)((float)var19 * var20 / 8.0F + var22 * var20 + var24));
+						var7.addVertexWithUV((double)(var15 + 0), (double)var18, (double)(var16 + 1), (double)(0.0F * var20 + var23), (double)((float)var18 * var20 / 8.0F + var22 * var20 + var24));
+						var7.addVertexWithUV((double)(var15 + 1), (double)var18, (double)(var16 + 0), (double)(1.0F * var20 + var23), (double)((float)var18 * var20 / 8.0F + var22 * var20 + var24));
+						var7.addVertexWithUV((double)(var15 + 1), (double)var19, (double)(var16 + 0), (double)(1.0F * var20 + var23), (double)((float)var19 * var20 / 8.0F + var22 * var20 + var24));
+						var7.addVertexWithUV((double)(var15 + 0), (double)var19, (double)(var16 + 1), (double)(0.0F * var20 + var23), (double)((float)var19 * var20 / 8.0F + var22 * var20 + var24));
+						var7.setTranslationD(0.0D, 0.0D, 0.0D);
+						var7.draw();
+					}
+				}
+			}
+
+			GL11.glEnable(GL11.GL_CULL_FACE);
+			GL11.glDisable(GL11.GL_BLEND);
+			return;
+		}
+
 		float var2 = this.mc.theWorld.func_27162_g(var1);
 		if(var2 > 0.0F) {
 			EntityLiving var3 = this.mc.renderViewEntity;
@@ -820,15 +922,19 @@
 			this.fogColorBlue *= var12;
 		}
 
+		float var14;
 		if(this.cloudFog) {
 			Vec3D var16 = var2.func_628_d(var1);
 			this.fogColorRed = (float)var16.xCoord;
 			this.fogColorGreen = (float)var16.yCoord;
 			this.fogColorBlue = (float)var16.zCoord;
 		} else if(var3.isInsideOfMaterial(Material.water)) {
-			this.fogColorRed = 0.02F;
-			this.fogColorGreen = 0.02F;
-			this.fogColorBlue = 0.2F;
+			this.mc.theWorld.getWorldChunkManager().func_4069_a(MathHelper.floor_double(var3.posX), MathHelper.floor_double(var3.posZ), 1, 1);
+			int var16 = ColorizerWater.getWaterColor(this.mc.theWorld.getWorldChunkManager().temperature[0], this.mc.theWorld.getWorldChunkManager().humidity[0]);
+			var14 = 0.5F;
+			this.fogColorRed = (float)(var16 >> 16 & 255) / 255.0F * 0.15F * var14;
+			this.fogColorGreen = (float)(var16 >> 8 & 255) / 255.0F * 0.2F * var14;
+			this.fogColorBlue = (float)(var16 & 255) / 255.0F * 0.4F * var14;
 		} else if(var3.isInsideOfMaterial(Material.lava)) {
 			this.fogColorRed = 0.6F;
 			this.fogColorGreen = 0.1F;
@@ -841,7 +947,7 @@
 		this.fogColorBlue *= var12;
 		if(this.mc.gameSettings.anaglyph) {
 			float var13 = (this.fogColorRed * 30.0F + this.fogColorGreen * 59.0F + this.fogColorBlue * 11.0F) / 100.0F;
-			float var14 = (this.fogColorRed * 30.0F + this.fogColorGreen * 70.0F) / 100.0F;
+			var14 = (this.fogColorRed * 30.0F + this.fogColorGreen * 70.0F) / 100.0F;
 			float var15 = (this.fogColorRed * 30.0F + this.fogColorBlue * 70.0F) / 100.0F;
 			this.fogColorRed = var13;
 			this.fogColorGreen = var14;
--- net/minecraft/src/EntityArrow.java
+++ net/minecraft/src/EntityArrow.java
@@ -161,6 +161,10 @@
 			if(var3 != null) {
 				if(var3.entityHit != null) {
 					if(var3.entityHit.attackEntityFrom(this.owner, 4)) {
+						if(var3.entityHit instanceof EntityLiving) {
+							++((EntityLiving)var3.entityHit).field_35172_bP;
+						}
+
 						this.worldObj.playSoundAtEntity(this, "random.drr", 1.0F, 1.2F / (this.rand.nextFloat() * 0.2F + 0.9F));
 						this.setEntityDead();
 					} else {
--- net/minecraft/src/ModelSheep2.java
+++ net/minecraft/src/ModelSheep2.java
@@ -3,10 +3,10 @@
 public class ModelSheep2 extends ModelQuadruped {
 	public ModelSheep2() {
 		super(12, 0.0F);
-		this.head = new ModelRenderer(0, 0);
+		this.head = new ModelRenderer(this, 0, 0);
 		this.head.addBox(-3.0F, -4.0F, -6.0F, 6, 6, 8, 0.0F);
 		this.head.setRotationPoint(0.0F, 6.0F, -8.0F);
-		this.body = new ModelRenderer(28, 8);
+		this.body = new ModelRenderer(this, 28, 8);
 		this.body.addBox(-4.0F, -10.0F, -7.0F, 8, 16, 6, 0.0F);
 		this.body.setRotationPoint(0.0F, 5.0F, 2.0F);
 	}
--- net/minecraft/src/MouseHelper.java
+++ net/minecraft/src/MouseHelper.java
@@ -5,6 +5,7 @@
 import org.lwjgl.LWJGLException;
 import org.lwjgl.input.Cursor;
 import org.lwjgl.input.Mouse;
+import org.lwjgl.opengl.Display;
 
 public class MouseHelper {
 	private Component field_1117_c;
@@ -35,7 +36,12 @@
 	}
 
 	public void ungrabMouseCursor() {
-		Mouse.setCursorPosition(this.field_1117_c.getWidth() / 2, this.field_1117_c.getHeight() / 2);
+		if(Display.isFullscreen()) {
+			Mouse.setCursorPosition(Display.getDisplayMode().getWidth() / 2, Display.getDisplayMode().getHeight() / 2);
+		} else {
+			Mouse.setCursorPosition(this.field_1117_c.getWidth() / 2, this.field_1117_c.getHeight() / 2);
+		}
+		
 		Mouse.setGrabbed(false);
 	}
 
--- net/minecraft/src/EntitySplashFX.java
+++ net/minecraft/src/EntitySplashFX.java
@@ -1,10 +1,10 @@
 package net.minecraft.src;
 
 public class EntitySplashFX extends EntityRainFX {
-	public EntitySplashFX(World var1, double var2, double var4, double var6, double var8, double var10, double var12) {
+	public EntitySplashFX(World var1, double var2, double var4, double var6, double var8, double var10, double var12, boolean var14) {
 		super(var1, var2, var4, var6);
 		this.particleGravity = 0.04F;
-		++this.particleTextureIndex;
+		this.particleTextureIndex = var14 ? 17 + this.rand.nextInt(2) : this.particleTextureIndex + 1;
 		if(var10 == 0.0D && (var8 != 0.0D || var12 != 0.0D)) {
 			this.motionX = var8;
 			this.motionY = var10 + 0.1D;
--- net/minecraft/src/RenderPlayer.java
+++ net/minecraft/src/RenderPlayer.java
@@ -101,6 +101,7 @@
 	}
 
 	protected void renderSpecials(EntityPlayer var1, float var2) {
+		super.renderEquippedItems(var1, var2);
 		ItemStack var3 = var1.inventory.armorItemInSlot(3);
 		if(var3 != null && var3.getItem().shiftedIndex < 256) {
 			GL11.glPushMatrix();
@@ -200,6 +201,11 @@
 				GL11.glScalef(var5, -var5, var5);
 				GL11.glRotatef(-100.0F, 1.0F, 0.0F, 0.0F);
 				GL11.glRotatef(45.0F, 0.0F, 1.0F, 0.0F);
+
+				if(var21.getItem() instanceof ItemBow) {
+					  GL11.glTranslatef(0.0F, -0.5F, 0.0F);
+				}
+
 			} else {
 				var5 = 6.0F / 16.0F;
 				GL11.glTranslatef(0.25F, 3.0F / 16.0F, -(3.0F / 16.0F));
--- /dev/null
+++ net/minecraft/src/EntityWlameFX.java
@@ -1,0 +1,59 @@
+package net.minecraft.src;
+
+public class EntityWlameFX extends EntityFlameFX {
+	private float wlameScale = this.particleScale;
+
+	public EntityWlameFX(World var1, double var2, double var4, double var6, double var8, double var10, double var12) {
+		super(var1, var2, var4, var6, var8, var10, var12);
+		var1.getWorldChunkManager().func_4069_a(MathHelper.floor_double(var2), MathHelper.floor_double(var6), 1, 1);
+		int var14 = ColorizerWater.getWaterColor(var1.getWorldChunkManager().temperature[0], var1.getWorldChunkManager().humidity[0]);
+		this.particleRed = (float)(var14 >> 16 & 255) / 255.0F;
+		this.particleGreen = (float)(var14 >> 8 & 255) / 255.0F;
+		this.particleBlue = (float)(var14 & 255) / 255.0F;
+		this.noClip = false;
+		this.particleTextureIndex += 48;
+	}
+
+	public void renderParticle(Tessellator var1, float var2, float var3, float var4, float var5, float var6, float var7) {
+		float var8 = ((float)this.particleAge + var2) / (float)this.particleMaxAge;
+		this.particleScale = this.wlameScale * (1.0F - var8 * var8 * 0.5F);
+		float var9 = (float)(this.particleTextureIndex % 16) / 16.0F;
+		float var10 = var9 + 0.999F / 16.0F;
+		float var11 = (float)(this.particleTextureIndex / 16) / 16.0F;
+		float var12 = var11 + 0.999F / 16.0F;
+		float var13 = 0.1F * this.particleScale;
+		float var14 = (float)(this.prevPosX + (this.posX - this.prevPosX) * (double)var2 - interpPosX);
+		float var15 = (float)(this.prevPosY + (this.posY - this.prevPosY) * (double)var2 - interpPosY);
+		float var16 = (float)(this.prevPosZ + (this.posZ - this.prevPosZ) * (double)var2 - interpPosZ);
+		float var17 = this.getEntityBrightness(var2);
+		var1.setColorOpaque_F(this.particleRed * var17, this.particleGreen * var17, this.particleBlue * var17);
+		var1.addVertexWithUV((double)(var14 - var3 * var13 - var6 * var13), (double)(var15 - var4 * var13), (double)(var16 - var5 * var13 - var7 * var13), (double)var10, (double)var12);
+		var1.addVertexWithUV((double)(var14 - var3 * var13 + var6 * var13), (double)(var15 + var4 * var13), (double)(var16 - var5 * var13 + var7 * var13), (double)var10, (double)var11);
+		var1.addVertexWithUV((double)(var14 + var3 * var13 + var6 * var13), (double)(var15 + var4 * var13), (double)(var16 + var5 * var13 + var7 * var13), (double)var9, (double)var11);
+		var1.addVertexWithUV((double)(var14 + var3 * var13 - var6 * var13), (double)(var15 - var4 * var13), (double)(var16 + var5 * var13 - var7 * var13), (double)var9, (double)var12);
+		var9 += 2.0F / 16.0F;
+		var10 += 2.0F / 16.0F;
+		var1.setColorOpaque_F(var17, var17, var17);
+		var1.addVertexWithUV((double)(var14 - var3 * var13 - var6 * var13), (double)(var15 - var4 * var13), (double)(var16 - var5 * var13 - var7 * var13), (double)var10, (double)var12);
+		var1.addVertexWithUV((double)(var14 - var3 * var13 + var6 * var13), (double)(var15 + var4 * var13), (double)(var16 - var5 * var13 + var7 * var13), (double)var10, (double)var11);
+		var1.addVertexWithUV((double)(var14 + var3 * var13 + var6 * var13), (double)(var15 + var4 * var13), (double)(var16 + var5 * var13 + var7 * var13), (double)var9, (double)var11);
+		var1.addVertexWithUV((double)(var14 + var3 * var13 - var6 * var13), (double)(var15 - var4 * var13), (double)(var16 + var5 * var13 - var7 * var13), (double)var9, (double)var12);
+	}
+
+	public float getEntityBrightness(float var1) {
+		int var2 = MathHelper.floor_double(this.posX);
+		double var3 = (this.boundingBox.maxY - this.boundingBox.minY) * 0.66D;
+		int var5 = MathHelper.floor_double(this.posY - (double)this.yOffset + var3);
+		int var6 = MathHelper.floor_double(this.posZ);
+		if(this.worldObj.checkChunksExist(MathHelper.floor_double(this.boundingBox.minX), MathHelper.floor_double(this.boundingBox.minY), MathHelper.floor_double(this.boundingBox.minZ), MathHelper.floor_double(this.boundingBox.maxX), MathHelper.floor_double(this.boundingBox.maxY), MathHelper.floor_double(this.boundingBox.maxZ))) {
+			float var7 = this.worldObj.getLightBrightness(var2, var5, var6);
+			if(var7 < this.entityBrightness) {
+				var7 = this.entityBrightness;
+			}
+
+			return var7;
+		} else {
+			return this.entityBrightness;
+		}
+	}
+}
--- net/minecraft/src/TileEntityFurnace.java
+++ net/minecraft/src/TileEntityFurnace.java
@@ -116,6 +116,12 @@
 					var2 = true;
 					if(this.furnaceItemStacks[1] != null) {
 						--this.furnaceItemStacks[1].stackSize;
+
+						if(this.furnaceItemStacks[1].itemID == Item.bucketLava.shiftedIndex) {
+							this.furnaceItemStacks[1].itemID = Item.bucketEmpty.shiftedIndex;
+							this.furnaceItemStacks[1].stackSize = 1;
+						}
+
 						if(this.furnaceItemStacks[1].stackSize == 0) {
 							this.furnaceItemStacks[1] = null;
 						}
--- net/minecraft/src/TextureWaterFX.java
+++ net/minecraft/src/TextureWaterFX.java
@@ -62,8 +62,8 @@
 			}
 
 			float var13 = var3 * var3;
-			var5 = (int)(32.0F + var13 * 32.0F);
-			var6 = (int)(50.0F + var13 * 64.0F);
+			var5 = (int)(111.0F + var13 * 76.0F);
+			var6 = (int)(139.0F + var13 * 116.0F);
 			int var7 = 255;
 			int var8 = (int)(146.0F + var13 * 50.0F);
 			if(this.anaglyphEnabled) {
--- net/minecraft/src/SignModel.java
+++ net/minecraft/src/SignModel.java
@@ -1,12 +1,12 @@
 package net.minecraft.src;
 
-public class SignModel {
-	public ModelRenderer signBoard = new ModelRenderer(0, 0);
+public class SignModel extends ModelBase {
+	public ModelRenderer signBoard = new ModelRenderer(this, 0, 0);
 	public ModelRenderer signStick;
 
 	public SignModel() {
 		this.signBoard.addBox(-12.0F, -14.0F, -1.0F, 24, 12, 2, 0.0F);
-		this.signStick = new ModelRenderer(0, 14);
+		this.signStick = new ModelRenderer(this, 0, 14);
 		this.signStick.addBox(-1.0F, -2.0F, -1.0F, 2, 14, 2, 0.0F);
 	}
 
--- net/minecraft/src/EntityBoat.java
+++ net/minecraft/src/EntityBoat.java
@@ -71,15 +71,7 @@
 					this.riddenByEntity.mountEntity(this);
 				}
 
-				int var3;
-				for(var3 = 0; var3 < 3; ++var3) {
-					this.dropItemWithOffset(Block.planks.blockID, 1, 0.0F);
-				}
-
-				for(var3 = 0; var3 < 2; ++var3) {
-					this.dropItemWithOffset(Item.stick.shiftedIndex, 1, 0.0F);
-				}
-
+				this.dropItem(Item.boat.shiftedIndex, 1);
 				this.setEntityDead();
 			}
 
--- net/minecraft/src/MusInputStream.java
+++ net/minecraft/src/MusInputStream.java
@@ -15,7 +15,7 @@
 		this.buffer = new byte[1];
 		this.inputStream = var3;
 		String var4 = var2.getPath();
-		var4 = var4.substring(var4.lastIndexOf("/") + 1);
+		var4 = var4.substring(var4.lastIndexOf("/") + 1).replaceAll("%20", " ");
 		this.hash = var4.hashCode();
 	}
 
--- net/minecraft/src/GuiContainer.java
+++ net/minecraft/src/GuiContainer.java
@@ -78,6 +78,8 @@
 		super.drawScreen(var1, var2, var3);
 		GL11.glEnable(GL11.GL_LIGHTING);
 		GL11.glEnable(GL11.GL_DEPTH_TEST);
+		GL11.glColor4f(1.0F, 1.0F, 1.0F, 1.0F);
+		GL11.glDisable(GL11.GL_LIGHTING);
 	}
 
 	protected void drawGuiContainerForegroundLayer() {
--- net/minecraft/src/BlockFence.java
+++ net/minecraft/src/BlockFence.java
@@ -5,10 +5,6 @@
 		super(var1, var2, Material.wood);
 	}
 
-	public boolean canPlaceBlockAt(World var1, int var2, int var3, int var4) {
-		return var1.getBlockId(var2, var3 - 1, var4) == this.blockID ? true : (!var1.getBlockMaterial(var2, var3 - 1, var4).isSolid() ? false : super.canPlaceBlockAt(var1, var2, var3, var4));
-	}
-
 	public AxisAlignedBB getCollisionBoundingBoxFromPool(World var1, int var2, int var3, int var4) {
 		return AxisAlignedBB.getBoundingBoxFromPool((double)var2, (double)var3, (double)var4, (double)(var2 + 1), (double)((float)var3 + 1.5F), (double)(var4 + 1));
 	}
--- net/minecraft/src/ModelCow.java
+++ net/minecraft/src/ModelCow.java
@@ -7,22 +7,21 @@
 
 	public ModelCow() {
 		super(12, 0.0F);
-		this.head = new ModelRenderer(0, 0);
-		this.head.addBox(-4.0F, -4.0F, -6.0F, 8, 8, 6, 0.0F);
-		this.head.setRotationPoint(0.0F, 4.0F, -8.0F);
-		this.horn1 = new ModelRenderer(22, 0);
-		this.horn1.addBox(-4.0F, -5.0F, -4.0F, 1, 3, 1, 0.0F);
-		this.horn1.setRotationPoint(0.0F, 3.0F, -7.0F);
-		this.horn2 = new ModelRenderer(22, 0);
-		this.horn2.addBox(3.0F, -5.0F, -4.0F, 1, 3, 1, 0.0F);
-		this.horn2.setRotationPoint(0.0F, 3.0F, -7.0F);
-		this.udders = new ModelRenderer(52, 0);
-		this.udders.addBox(-2.0F, -3.0F, 0.0F, 4, 6, 2, 0.0F);
-		this.udders.setRotationPoint(0.0F, 14.0F, 6.0F);
-		this.udders.rotateAngleX = (float)Math.PI * 0.5F;
-		this.body = new ModelRenderer(18, 4);
-		this.body.addBox(-6.0F, -10.0F, -7.0F, 12, 18, 10, 0.0F);
-		this.body.setRotationPoint(0.0F, 5.0F, 2.0F);
+		this.head = new ModelRenderer(this, 0, 0);
+ 		this.head.addBox(-4.0F, -4.0F, -6.0F, 8, 8, 6, 0.0F);
+ 		this.head.setRotationPoint(0.0F, 4.0F, -8.0F);
+ 		this.horn1 = new ModelRenderer(this, 22, 0);
+		this.horn1.addBox(-5.0F, -6.0F, -3.0F, 1, 3, 1, 0.0F);
+		this.horn1.setRotationPoint(0.0F, 4.0F, -8.0F);
+ 		this.horn2 = new ModelRenderer(this, 22, 0);
+		this.horn2.addBox(4.0F, -6.0F, -3.0F, 1, 3, 1, 0.0F);
+		this.horn2.setRotationPoint(0.0F, 4.0F, -8.0F);
+ 		this.body = new ModelRenderer(this, 18, 4);
+ 		this.body.addBox(-6.0F, -10.0F, -7.0F, 12, 18, 10, 0.0F);
+ 		this.body.setRotationPoint(0.0F, 5.0F, 2.0F);
+		this.udders = new ModelRenderer(this, 52, 0);
+		this.udders.addBox(-2.0F, 1.0F, -9.0F, 4, 6, 2);
+		this.udders.setRotationPoint(0.0F, 5.0F, 2.0F);
 		--this.leg1.rotationPointX;
 		++this.leg2.rotationPointX;
 		this.leg1.rotationPointZ += 0.0F;
@@ -46,5 +45,7 @@
 		this.horn1.rotateAngleX = this.head.rotateAngleX;
 		this.horn2.rotateAngleY = this.head.rotateAngleY;
 		this.horn2.rotateAngleX = this.head.rotateAngleX;
+		this.udders.rotateAngleY = this.body.rotateAngleY;
+		this.udders.rotateAngleX = this.body.rotateAngleX;
 	}
 }
--- net/minecraft/src/RenderLiving.java
+++ net/minecraft/src/RenderLiving.java
@@ -1,5 +1,6 @@
 package net.minecraft.src;
 
+import java.util.Random;
 import net.minecraft.client.Minecraft;
 import org.lwjgl.opengl.GL11;
 import org.lwjgl.opengl.GL12;
@@ -141,6 +142,38 @@
 	}
 
 	protected void renderEquippedItems(EntityLiving var1, float var2) {
+		if(var1.field_35172_bP > 0) {
+			EntityArrow var3 = new EntityArrow(var1.worldObj, var1.posX, var1.posY, var1.posZ);
+			Random var4 = new Random((long)var1.entityId);
+
+			for(int var5 = 0; var5 < var1.field_35172_bP; ++var5) {
+				GL11.glPushMatrix();
+				ModelRenderer var6 = this.mainModel.func_35393_a(var4);
+				var6.postRender(1.0F / 16.0F);
+				float var7 = var4.nextFloat();
+				float var8 = var4.nextFloat();
+				float var9 = var4.nextFloat();
+				float var10 = (var6.field_35977_i + (var6.field_35973_l - var6.field_35977_i) * var7) / 16.0F;
+				float var11 = (var6.field_35975_j + (var6.field_35974_m - var6.field_35975_j) * var8) / 16.0F;
+				float var12 = (var6.field_35976_k + (var6.field_35972_n - var6.field_35976_k) * var9) / 16.0F;
+				GL11.glTranslatef(var10, var11, var12);
+				var7 = var7 * 2.0F - 1.0F;
+				var8 = var8 * 2.0F - 1.0F;
+				var9 = var9 * 2.0F - 1.0F;
+				var7 *= -1.0F;
+				var8 *= -1.0F;
+				var9 *= -1.0F;
+				float var13 = MathHelper.sqrt_float(var7 * var7 + var9 * var9);
+				var3.prevRotationYaw = var3.rotationYaw = (float)(Math.atan2((double)var7, (double)var9) * 180.0D / (double)((float)Math.PI));
+				var3.prevRotationPitch = var3.rotationPitch = (float)(Math.atan2((double)var8, (double)var13) * 180.0D / (double)((float)Math.PI));
+				double var14 = 0.0D;
+				double var16 = 0.0D;
+				double var18 = 0.0D;
+				float var20 = 0.0F;
+				this.renderManager.renderEntityWithPosYaw(var3, var14, var16, var18, var20, var2);
+				GL11.glPopMatrix();
+			}
+		}
 	}
 
 	protected boolean func_27005_b(EntityLiving var1, int var2, float var3) {
--- net/minecraft/src/EntityDiggingFX.java
+++ net/minecraft/src/EntityDiggingFX.java
@@ -7,7 +7,7 @@
 	public EntityDiggingFX(World var1, double var2, double var4, double var6, double var8, double var10, double var12, Block var14, int var15, int var16) {
 		super(var1, var2, var4, var6, var8, var10, var12);
 		this.field_4082_a = var14;
-		this.particleTextureIndex = var14.getBlockTextureFromSideAndMetadata(0, var16);
+		this.particleTextureIndex = var14.getBlockTextureFromSideAndMetadata(var15, var16);
 		this.particleGravity = var14.blockParticleGravity;
 		this.particleRed = this.particleGreen = this.particleBlue = 0.6F;
 		this.particleScale /= 2.0F;
--- net/minecraft/src/EntityRainFX.java
+++ net/minecraft/src/EntityRainFX.java
@@ -6,9 +6,11 @@
 		this.motionX *= (double)0.3F;
 		this.motionY = (double)((float)Math.random() * 0.2F + 0.1F);
 		this.motionZ *= (double)0.3F;
-		this.particleRed = 1.0F;
-		this.particleGreen = 1.0F;
-		this.particleBlue = 1.0F;
+		var1.getWorldChunkManager().func_4069_a(MathHelper.floor_double(var2), MathHelper.floor_double(var6), 1, 1);
+		int var8 = ColorizerWater.getWaterColor(var1.getWorldChunkManager().temperature[0], var1.getWorldChunkManager().humidity[0]);
+		this.particleRed = (float)(var8 >> 16 & 255) / 255.0F;
+		this.particleGreen = (float)(var8 >> 8 & 255) / 255.0F;
+		this.particleBlue = (float)(var8 & 255) / 255.0F;
 		this.particleTextureIndex = 19 + this.rand.nextInt(4);
 		this.setSize(0.01F, 0.01F);
 		this.particleGravity = 0.06F;
--- net/minecraft/src/BlockStairs.java
+++ net/minecraft/src/BlockStairs.java
@@ -90,14 +90,6 @@
 		return this.modelBlock.getRenderBlockPass();
 	}
 
-	public int idDropped(int var1, Random var2) {
-		return this.modelBlock.idDropped(var1, var2);
-	}
-
-	public int quantityDropped(Random var1) {
-		return this.modelBlock.quantityDropped(var1);
-	}
-
 	public int getBlockTextureFromSideAndMetadata(int var1, int var2) {
 		return this.modelBlock.getBlockTextureFromSideAndMetadata(var1, var2);
 	}
@@ -141,10 +133,6 @@
 
 	public void onBlockRemoval(World var1, int var2, int var3, int var4) {
 		this.modelBlock.onBlockRemoval(var1, var2, var3, var4);
-	}
-
-	public void dropBlockAsItemWithChance(World var1, int var2, int var3, int var4, int var5, float var6) {
-		this.modelBlock.dropBlockAsItemWithChance(var1, var2, var3, var4, var5, var6);
 	}
 
 	public void onEntityWalking(World var1, int var2, int var3, int var4, Entity var5) {
--- net/minecraft/src/EntityBubbleFX.java
+++ net/minecraft/src/EntityBubbleFX.java
@@ -3,9 +3,11 @@
 public class EntityBubbleFX extends EntityFX {
 	public EntityBubbleFX(World var1, double var2, double var4, double var6, double var8, double var10, double var12) {
 		super(var1, var2, var4, var6, var8, var10, var12);
-		this.particleRed = 1.0F;
-		this.particleGreen = 1.0F;
-		this.particleBlue = 1.0F;
+		var1.getWorldChunkManager().func_4069_a(MathHelper.floor_double(var2), MathHelper.floor_double(var6), 1, 1);
+		int var14 = ColorizerWater.getWaterColor(var1.getWorldChunkManager().temperature[0], var1.getWorldChunkManager().humidity[0]);
+		this.particleRed = (float)(var14 >> 16 & 255) / 255.0F;
+		this.particleGreen = (float)(var14 >> 8 & 255) / 255.0F;
+		this.particleBlue = (float)(var14 & 255) / 255.0F;
 		this.particleTextureIndex = 32;
 		this.setSize(0.02F, 0.02F);
 		this.particleScale *= this.rand.nextFloat() * 0.6F + 0.2F;
@@ -13,6 +15,30 @@
 		this.motionY = var10 * (double)0.2F + (double)((float)(Math.random() * 2.0D - 1.0D) * 0.02F);
 		this.motionZ = var12 * (double)0.2F + (double)((float)(Math.random() * 2.0D - 1.0D) * 0.02F);
 		this.particleMaxAge = (int)(8.0D / (Math.random() * 0.8D + 0.2D));
+	}
+
+	public void renderParticle(Tessellator var1, float var2, float var3, float var4, float var5, float var6, float var7) {
+		float var8 = (float)(this.particleTextureIndex % 16) / 16.0F;
+		float var9 = var8 + 0.999F / 16.0F;
+		float var10 = (float)(this.particleTextureIndex / 16) / 16.0F;
+		float var11 = var10 + 0.999F / 16.0F;
+		float var12 = 0.1F * this.particleScale;
+		float var13 = (float)(this.prevPosX + (this.posX - this.prevPosX) * (double)var2 - interpPosX);
+		float var14 = (float)(this.prevPosY + (this.posY - this.prevPosY) * (double)var2 - interpPosY);
+		float var15 = (float)(this.prevPosZ + (this.posZ - this.prevPosZ) * (double)var2 - interpPosZ);
+		float var16 = this.getEntityBrightness(var2);
+		var1.setColorOpaque_F(this.particleRed * var16, this.particleGreen * var16, this.particleBlue * var16);
+		var1.addVertexWithUV((double)(var13 - var3 * var12 - var6 * var12), (double)(var14 - var4 * var12), (double)(var15 - var5 * var12 - var7 * var12), (double)var9, (double)var11);
+		var1.addVertexWithUV((double)(var13 - var3 * var12 + var6 * var12), (double)(var14 + var4 * var12), (double)(var15 - var5 * var12 + var7 * var12), (double)var9, (double)var10);
+		var1.addVertexWithUV((double)(var13 + var3 * var12 + var6 * var12), (double)(var14 + var4 * var12), (double)(var15 + var5 * var12 + var7 * var12), (double)var8, (double)var10);
+		var1.addVertexWithUV((double)(var13 + var3 * var12 - var6 * var12), (double)(var14 - var4 * var12), (double)(var15 + var5 * var12 - var7 * var12), (double)var8, (double)var11);
+		var8 += 2.0F / 16.0F;
+		var9 += 2.0F / 16.0F;
+		var1.setColorOpaque_F(var16, var16, var16);
+		var1.addVertexWithUV((double)(var13 - var3 * var12 - var6 * var12), (double)(var14 - var4 * var12), (double)(var15 - var5 * var12 - var7 * var12), (double)var9, (double)var11);
+		var1.addVertexWithUV((double)(var13 - var3 * var12 + var6 * var12), (double)(var14 + var4 * var12), (double)(var15 - var5 * var12 + var7 * var12), (double)var9, (double)var10);
+		var1.addVertexWithUV((double)(var13 + var3 * var12 + var6 * var12), (double)(var14 + var4 * var12), (double)(var15 + var5 * var12 + var7 * var12), (double)var8, (double)var10);
+		var1.addVertexWithUV((double)(var13 + var3 * var12 - var6 * var12), (double)(var14 - var4 * var12), (double)(var15 + var5 * var12 - var7 * var12), (double)var8, (double)var11);
 	}
 
 	public void onUpdate() {
--- net/minecraft/src/ModelSquid.java
+++ net/minecraft/src/ModelSquid.java
@@ -6,12 +6,12 @@
 
 	public ModelSquid() {
 		byte var1 = -16;
-		this.squidBody = new ModelRenderer(0, 0);
+		this.squidBody = new ModelRenderer(this, 0, 0);
 		this.squidBody.addBox(-6.0F, -8.0F, -6.0F, 12, 16, 12);
 		this.squidBody.rotationPointY += (float)(24 + var1);
 
 		for(int var2 = 0; var2 < this.squidTentacles.length; ++var2) {
-			this.squidTentacles[var2] = new ModelRenderer(48, 0);
+			this.squidTentacles[var2] = new ModelRenderer(this, 48, 0);
 			double var3 = (double)var2 * Math.PI * 2.0D / (double)this.squidTentacles.length;
 			float var5 = (float)Math.cos(var3) * 5.0F;
 			float var6 = (float)Math.sin(var3) * 5.0F;
--- net/minecraft/client/Minecraft.java
+++ net/minecraft/client/Minecraft.java
@@ -98,6 +98,7 @@
 import org.lwjgl.input.Keyboard;
 import org.lwjgl.input.Mouse;
 import org.lwjgl.opengl.Display;
+import org.lwjgl.opengl.PixelFormat;
 import org.lwjgl.opengl.DisplayMode;
 import org.lwjgl.opengl.GL11;
 import org.lwjgl.util.glu.GLU;
@@ -221,7 +222,7 @@
 		Display.setTitle("Minecraft Minecraft Beta 1.7.3");
 
 		try {
-			Display.create();
+			Display.create(new PixelFormat().withDepthBits(24));
 		} catch (LWJGLException var6) {
 			var6.printStackTrace();
 
@@ -230,7 +231,7 @@
 			} catch (InterruptedException var5) {
 			}
 
-			Display.create();
+			Display.create(new PixelFormat().withDepthBits(24));
 		}
 
 		this.mcDataDir = getMinecraftDir();
@@ -1297,6 +1298,8 @@
 			}
 
 			this.playerController.func_6473_b(this.thePlayer);
+			this.textureWaterFX.textureId = this.renderEngine.getTexture("/misc/water.png");
+			this.textureLavaFX.textureId = 0;
 			if(var3 != null) {
 				var1.emptyMethod1();
 			}
--- net/minecraft/src/ModelQuadruped.java
+++ net/minecraft/src/ModelQuadruped.java
@@ -1,7 +1,7 @@
 package net.minecraft.src;
 
 public class ModelQuadruped extends ModelBase {
-	public ModelRenderer head = new ModelRenderer(0, 0);
+	public ModelRenderer head = new ModelRenderer(this, 0, 0);
 	public ModelRenderer body;
 	public ModelRenderer leg1;
 	public ModelRenderer leg2;
@@ -11,19 +11,19 @@
 	public ModelQuadruped(int var1, float var2) {
 		this.head.addBox(-4.0F, -4.0F, -8.0F, 8, 8, 8, var2);
 		this.head.setRotationPoint(0.0F, (float)(18 - var1), -6.0F);
-		this.body = new ModelRenderer(28, 8);
+		this.body = new ModelRenderer(this, 28, 8);
 		this.body.addBox(-5.0F, -10.0F, -7.0F, 10, 16, 8, var2);
 		this.body.setRotationPoint(0.0F, (float)(17 - var1), 2.0F);
-		this.leg1 = new ModelRenderer(0, 16);
+		this.leg1 = new ModelRenderer(this, 0, 16);
 		this.leg1.addBox(-2.0F, 0.0F, -2.0F, 4, var1, 4, var2);
 		this.leg1.setRotationPoint(-3.0F, (float)(24 - var1), 7.0F);
-		this.leg2 = new ModelRenderer(0, 16);
+		this.leg2 = new ModelRenderer(this, 0, 16);
 		this.leg2.addBox(-2.0F, 0.0F, -2.0F, 4, var1, 4, var2);
 		this.leg2.setRotationPoint(3.0F, (float)(24 - var1), 7.0F);
-		this.leg3 = new ModelRenderer(0, 16);
+		this.leg3 = new ModelRenderer(this, 0, 16);
 		this.leg3.addBox(-2.0F, 0.0F, -2.0F, 4, var1, 4, var2);
 		this.leg3.setRotationPoint(-3.0F, (float)(24 - var1), -5.0F);
-		this.leg4 = new ModelRenderer(0, 16);
+		this.leg4 = new ModelRenderer(this, 0, 16);
 		this.leg4.addBox(-2.0F, 0.0F, -2.0F, 4, var1, 4, var2);
 		this.leg4.setRotationPoint(3.0F, (float)(24 - var1), -5.0F);
 	}
--- net/minecraft/src/ModelCreeper.java
+++ net/minecraft/src/ModelCreeper.java
@@ -15,25 +15,25 @@
 
 	public ModelCreeper(float var1) {
 		byte var2 = 4;
-		this.head = new ModelRenderer(0, 0);
+		this.head = new ModelRenderer(this, 0, 0);
 		this.head.addBox(-4.0F, -8.0F, -4.0F, 8, 8, 8, var1);
 		this.head.setRotationPoint(0.0F, (float)var2, 0.0F);
-		this.field_1270_b = new ModelRenderer(32, 0);
+		this.field_1270_b = new ModelRenderer(this, 32, 0);
 		this.field_1270_b.addBox(-4.0F, -8.0F, -4.0F, 8, 8, 8, var1 + 0.5F);
 		this.field_1270_b.setRotationPoint(0.0F, (float)var2, 0.0F);
-		this.body = new ModelRenderer(16, 16);
+		this.body = new ModelRenderer(this, 16, 16);
 		this.body.addBox(-4.0F, 0.0F, -2.0F, 8, 12, 4, var1);
 		this.body.setRotationPoint(0.0F, (float)var2, 0.0F);
-		this.leg1 = new ModelRenderer(0, 16);
+		this.leg1 = new ModelRenderer(this, 0, 16);
 		this.leg1.addBox(-2.0F, 0.0F, -2.0F, 4, 6, 4, var1);
 		this.leg1.setRotationPoint(-2.0F, (float)(12 + var2), 4.0F);
-		this.leg2 = new ModelRenderer(0, 16);
+		this.leg2 = new ModelRenderer(this, 0, 16);
 		this.leg2.addBox(-2.0F, 0.0F, -2.0F, 4, 6, 4, var1);
 		this.leg2.setRotationPoint(2.0F, (float)(12 + var2), 4.0F);
-		this.leg3 = new ModelRenderer(0, 16);
+		this.leg3 = new ModelRenderer(this, 0, 16);
 		this.leg3.addBox(-2.0F, 0.0F, -2.0F, 4, 6, 4, var1);
 		this.leg3.setRotationPoint(-2.0F, (float)(12 + var2), -4.0F);
-		this.leg4 = new ModelRenderer(0, 16);
+		this.leg4 = new ModelRenderer(this, 0, 16);
 		this.leg4.addBox(-2.0F, 0.0F, -2.0F, 4, 6, 4, var1);
 		this.leg4.setRotationPoint(2.0F, (float)(12 + var2), -4.0F);
 	}
--- net/minecraft/src/ModelPig.java
+++ net/minecraft/src/ModelPig.java
@@ -1,11 +1,27 @@
 package net.minecraft.src;
 
 public class ModelPig extends ModelQuadruped {
+	public ModelRenderer nose;
+
 	public ModelPig() {
-		super(6, 0.0F);
+		this(0.0F);
 	}
 
 	public ModelPig(float var1) {
 		super(6, var1);
+		this.nose = new ModelRenderer(this, 16, 16);
+		this.nose.addBox(-2.0F, 0.0F, -9.0F, 4, 3, 1);
+		this.nose.setRotationPoint(0.0F, 12.0F, -6.0F);
+	}
+
+	public void render(float var1, float var2, float var3, float var4, float var5, float var6) {
+		super.render(var1, var2, var3, var4, var5, var6);
+		this.nose.render(var6);
+	}
+
+	public void setRotationAngles(float var1, float var2, float var3, float var4, float var5, float var6) {
+		super.setRotationAngles(var1, var2, var3, var4, var5, var6);
+		this.nose.rotateAngleX = var5 / 57.29578F;
+		this.nose.rotateAngleY = var4 / 57.29578F;
 	}
 }
--- net/minecraft/src/GuiOptions.java
+++ net/minecraft/src/GuiOptions.java
@@ -4,7 +4,7 @@
 	private GuiScreen parentScreen;
 	protected String screenTitle = "Options";
 	private GameSettings options;
-	private static EnumOptions[] field_22135_k = new EnumOptions[]{EnumOptions.MUSIC, EnumOptions.SOUND, EnumOptions.INVERT_MOUSE, EnumOptions.SENSITIVITY, EnumOptions.DIFFICULTY};
+	private static EnumOptions[] field_22135_k = new EnumOptions[]{EnumOptions.MUSIC, EnumOptions.SOUND, EnumOptions.INVERT_MOUSE, EnumOptions.SENSITIVITY, EnumOptions.FOV, EnumOptions.DIFFICULTY};
 
 	public GuiOptions(GuiScreen var1, GameSettings var2) {
 		this.parentScreen = var1;
--- net/minecraft/src/EntityPlayerSP.java
+++ net/minecraft/src/EntityPlayerSP.java
@@ -5,6 +5,10 @@
 public class EntityPlayerSP extends EntityPlayer {
 	public MovementInput movementInput;
 	protected Minecraft mc;
+	public float flRenderArmYaw;
+	public float flRenderArmPitch;
+	public float flPreviousRenderArmYaw;
+	public float flPreviousRenderArmPitch;
 	private MouseFilter field_21903_bJ = new MouseFilter();
 	private MouseFilter field_21904_bK = new MouseFilter();
 	private MouseFilter field_21902_bL = new MouseFilter();
@@ -29,6 +33,10 @@
 		this.moveStrafing = this.movementInput.moveStrafe;
 		this.moveForward = this.movementInput.moveForward;
 		this.isJumping = this.movementInput.jump;
+		this.flPreviousRenderArmYaw = this.flRenderArmYaw;
+		this.flPreviousRenderArmPitch = this.flRenderArmPitch;
+		this.flRenderArmPitch = (float)((double)this.flRenderArmPitch + (double)(this.rotationPitch - this.flRenderArmPitch) * 0.5D);
+		this.flRenderArmYaw = (float)((double)this.flRenderArmYaw + (double)(this.rotationYaw - this.flRenderArmYaw) * 0.5D);
 	}
 
 	public void onLivingUpdate() {
@@ -95,6 +103,10 @@
 		this.movementInput.checkKeyForMovementInput(var1, var2);
 	}
 
+	public float getFOVMultiplier() {
+		return 1.0F;
+	}
+
 	public void writeEntityToNBT(NBTTagCompound var1) {
 		super.writeEntityToNBT(var1);
 		var1.setInteger("Score", this.score);
@@ -106,6 +118,10 @@
 	}
 
 	public void closeScreen() {
+		if(this.mc.currentScreen instanceof GuiChest) {
+			this.worldObj.playSoundAtEntity(this, "random.door_close", 1.0F, this.worldObj.rand.nextFloat() * 0.1F + 0.9F);
+		}
+
 		super.closeScreen();
 		this.mc.displayGuiScreen((GuiScreen)null);
 	}
@@ -116,6 +132,7 @@
 
 	public void displayGUIChest(IInventory var1) {
 		this.mc.displayGuiScreen(new GuiChest(this.inventory, var1));
+		this.worldObj.playSoundAtEntity(this, "random.door_open", 1.0F, this.worldObj.rand.nextFloat() * 0.1F + 0.9F);
 	}
 
 	public void displayWorkbenchGUI(int var1, int var2, int var3) {
@@ -128,6 +145,10 @@
 
 	public void displayGUIDispenser(TileEntityDispenser var1) {
 		this.mc.displayGuiScreen(new GuiDispenser(this.inventory, var1));
+	}
+
+	public void onCriticalHit(Entity var1) {
+		this.mc.effectRenderer.addEffect(new EntityCrit2FX(this.mc.theWorld, var1));
 	}
 
 	public void onItemPickup(Entity var1, int var2) {
--- net/minecraft/src/GuiAchievement.java
+++ net/minecraft/src/GuiAchievement.java
@@ -107,7 +107,7 @@
 				}
 
 				GL11.glPushMatrix();
-				GL11.glRotatef(180.0F, 1.0F, 0.0F, 0.0F);
+				GL11.glRotatef(120.0F, 1.0F, 0.0F, 0.0F);
 				RenderHelper.enableStandardItemLighting();
 				GL11.glPopMatrix();
 				GL11.glDisable(GL11.GL_LIGHTING);
--- net/minecraft/src/EntityFish.java
+++ net/minecraft/src/EntityFish.java
@@ -352,7 +352,7 @@
 			double var8 = (double)MathHelper.sqrt_double(var2 * var2 + var4 * var4 + var6 * var6);
 			double var10 = 0.1D;
 			this.bobber.motionX += var2 * var10;
-			this.bobber.motionY += var4 * var10 + (double)MathHelper.sqrt_double(var8) * 0.08D;
+			this.bobber.motionY += var4 * var10 + (double)MathHelper.sqrt_double(var8) * 0.04D;
 			this.bobber.motionZ += var6 * var10;
 			var1 = 3;
 		} else if(this.ticksCatchable > 0) {
@@ -363,7 +363,7 @@
 			double var9 = (double)MathHelper.sqrt_double(var3 * var3 + var5 * var5 + var7 * var7);
 			double var11 = 0.1D;
 			var13.motionX = var3 * var11;
-			var13.motionY = var5 * var11 + (double)MathHelper.sqrt_double(var9) * 0.08D;
+			var13.motionY = var5 * var11 + (double)MathHelper.sqrt_double(var9) * 0.04D;
 			var13.motionZ = var7 * var11;
 			this.worldObj.entityJoinedWorld(var13);
 			this.angler.addStat(StatList.fishCaughtStat, 1);
--- net/minecraft/src/EntityPlayer.java
+++ net/minecraft/src/EntityPlayer.java
@@ -488,8 +488,9 @@
 	public void attackTargetEntityWithCurrentItem(Entity var1) {
 		int var2 = this.inventory.getDamageVsEntity(var1);
 		if(var2 > 0) {
-			if(this.motionY < 0.0D) {
+			if(this.motionY < 0.0F && !this.onGround && !this.isOnLadder() && !this.isInWater() && this.ridingEntity == null && var1 instanceof EntityLiving) {
 				++var2;
+				this.onCriticalHit(var1);
 			}
 
 			var1.attackEntityFrom(this, var2);
@@ -511,6 +512,9 @@
 			}
 		}
 
+	}
+
+	public void onCriticalHit(Entity var1) {
 	}
 
 	public void respawnPlayer() {
--- net/minecraft/src/RenderGlobal.java
+++ net/minecraft/src/RenderGlobal.java
@@ -1072,6 +1072,7 @@
 		GL11.glEnable(GL11.GL_ALPHA_TEST);
 		GL11.glBlendFunc(GL11.GL_SRC_ALPHA, GL11.GL_ONE);
 		GL11.glColor4f(1.0F, 1.0F, 1.0F, (MathHelper.sin((float)System.currentTimeMillis() / 100.0F) * 0.2F + 0.4F) * 0.5F);
+		GL11.glScalef(0.998F, 0.998F, 0.998F);
 		int var8;
 		if(var3 == 0) {
 			if(this.damagePartialTime > 0.0F) {
@@ -1282,8 +1283,14 @@
 			if(var14 * var14 + var16 * var16 + var18 * var18 <= var20 * var20) {
 				if(var1.equals("bubble")) {
 					this.mc.effectRenderer.addEffect(new EntityBubbleFX(this.worldObj, var2, var4, var6, var8, var10, var12));
+				} else if(var1.equals("suspended")) {
+					this.mc.effectRenderer.addEffect(new EntitySuspendFX(this.worldObj, var2, var4, var6, var8, var10, var12));
+				} else if(var1.equals("crit")) {
+					this.mc.effectRenderer.addEffect(new EntityCritFX(this.worldObj, var2, var4, var6, var8, var10, var12));
 				} else if(var1.equals("smoke")) {
 					this.mc.effectRenderer.addEffect(new EntitySmokeFX(this.worldObj, var2, var4, var6, var8, var10, var12));
+				} else if(var1.equals("fireflies")) {
+					this.mc.effectRenderer.addEffect(new EntityFirefliesFX(this.worldObj, var2, var4, var6, var8, var10, var12));
 				} else if(var1.equals("note")) {
 					this.mc.effectRenderer.addEffect(new EntityNoteFX(this.worldObj, var2, var4, var6, var8, var10, var12));
 				} else if(var1.equals("portal")) {
@@ -1296,20 +1303,62 @@
 					this.mc.effectRenderer.addEffect(new EntityLavaFX(this.worldObj, var2, var4, var6));
 				} else if(var1.equals("footstep")) {
 					this.mc.effectRenderer.addEffect(new EntityFootStepFX(this.renderEngine, this.worldObj, var2, var4, var6));
+				} else if(var1.equals("largesplash")) {
+					this.mc.effectRenderer.addEffect(new EntitySplashFX(this.worldObj, var2, var4, var6, var8, var10, var12, true));
 				} else if(var1.equals("splash")) {
-					this.mc.effectRenderer.addEffect(new EntitySplashFX(this.worldObj, var2, var4, var6, var8, var10, var12));
+					this.mc.effectRenderer.addEffect(new EntitySplashFX(this.worldObj, var2, var4, var6, var8, var10, var12, false));
+				} else if(var1.equals("wake")) {
+					this.mc.effectRenderer.addEffect(new EntityWakeFX(this.worldObj, var2, var4, var6, var8, var10, var12));
 				} else if(var1.equals("largesmoke")) {
 					this.mc.effectRenderer.addEffect(new EntitySmokeFX(this.worldObj, var2, var4, var6, var8, var10, var12, 2.5F));
 				} else if(var1.equals("reddust")) {
 					this.mc.effectRenderer.addEffect(new EntityReddustFX(this.worldObj, var2, var4, var6, (float)var8, (float)var10, (float)var12));
 				} else if(var1.equals("snowballpoof")) {
 					this.mc.effectRenderer.addEffect(new EntitySlimeFX(this.worldObj, var2, var4, var6, Item.snowball));
+				} else if(var1.equals("wlame")) {
+					this.mc.effectRenderer.addEffect(new EntityWlameFX(this.worldObj, var2, var4, var6, var8, var10, var12));
+				} else if(var1.equals("water")) {
+					this.mc.effectRenderer.addEffect(new EntityWaterFX(this.worldObj, var2, var4, var6));
 				} else if(var1.equals("snowshovel")) {
 					this.mc.effectRenderer.addEffect(new EntitySnowShovelFX(this.worldObj, var2, var4, var6, var8, var10, var12));
 				} else if(var1.equals("slime")) {
 					this.mc.effectRenderer.addEffect(new EntitySlimeFX(this.worldObj, var2, var4, var6, Item.slimeBall));
 				} else if(var1.equals("heart")) {
 					this.mc.effectRenderer.addEffect(new EntityHeartFX(this.worldObj, var2, var4, var6, var8, var10, var12));
+				} else {
+					String[] var22;
+					int var23;
+					if(var1.startsWith("iconcrack_")) {
+						var22 = var1.split("_", 3);
+						var23 = Integer.parseInt(var22[1]);
+						this.mc.effectRenderer.addEffect(new EntitySlimeFX(this.worldObj, var2, var4, var6, Item.itemsList[var23]));
+					} else {
+						int var24;
+						int var25;
+						int var26;
+						int var27;
+						if(var1.startsWith("tilecrack_")) {
+							var22 = var1.split("_", 3);
+							var23 = Integer.parseInt(var22[1]);
+							var24 = Integer.parseInt(var22[2]);
+							var25 = MathHelper.floor_double(var2);
+							var26 = MathHelper.floor_double(var4);
+							var27 = MathHelper.floor_double(var6);
+							this.mc.effectRenderer.addEffect((new EntityDiggingFX(this.worldObj, var2, var4, var6, var8, var10, var12, Block.blocksList[var23], 1, var24)).func_4041_a(var25, var26, var27));
+						} else if(var1.startsWith("tiledust_")) {
+							var22 = var1.split("_", 3);
+							var23 = Integer.parseInt(var22[1]);
+							var24 = Integer.parseInt(var22[2]);
+							var25 = MathHelper.floor_double(var2);
+							var26 = MathHelper.floor_double(var4);
+							var27 = MathHelper.floor_double(var6);
+							EntityDiggingFX var28 = new EntityDiggingFX(this.worldObj, var2, var4, var6, var8, var10, var12, Block.blocksList[var23], 1, var24);
+							var28.motionX = var8;
+							var28.motionY = var10;
+							var28.motionZ = var12;
+							this.mc.effectRenderer.addEffect(var28.func_4041_a(var25, var26, var27));
+						}
+					}
 				}
 
 			}
@@ -1359,6 +1408,7 @@
 	public void func_28136_a(EntityPlayer var1, int var2, int var3, int var4, int var5, int var6) {
 		Random var7 = this.worldObj.rand;
 		int var16;
+		int var70;
 		switch(var2) {
 		case 1000:
 			this.worldObj.playSoundEffect((double)var3, (double)var4, (double)var5, "random.click", 1.0F, 1.0F);
@@ -1413,6 +1463,44 @@
 			}
 
 			this.mc.effectRenderer.addBlockDestroyEffects(var3, var4, var5, var6 & 255, var6 >> 8 & 255);
+			break;
+		case 2004:
+			for(var70 = 0; var70 < 20; ++var70) {
+				double var33 = (double)var3 + 0.5D + ((double)this.worldObj.rand.nextFloat() - 0.5D) * 2.0D;
+				double var35 = (double)var4 + 0.5D + ((double)this.worldObj.rand.nextFloat() - 0.5D) * 2.0D;
+				double var37 = (double)var5 + 0.5D + ((double)this.worldObj.rand.nextFloat() - 0.5D) * 2.0D;
+				this.worldObj.spawnParticle("smoke", var33, var35, var37, 0.0D, 0.0D, 0.0D);
+				this.worldObj.spawnParticle("flame", var33, var35, var37, 0.0D, 0.0D, 0.0D);
+			}
+		case 2006:
+		default:
+			break;
+		case 2007:
+			if(this.mc.gameSettings.fancyGraphics) {
+				for(var70 = 0; var70 < var6; ++var70) {
+					float var18 = var7.nextFloat() * 0.1F;
+					float var19 = var7.nextFloat() * 0.1F;
+					float var20 = var7.nextFloat() * 0.1F;
+					float var21 = var7.nextFloat();
+					float var22 = var7.nextFloat();
+					float var23 = var7.nextFloat();
+					if(var7.nextInt(2) == 0) {
+						var18 *= -1.0F;
+					}
+
+					if(var7.nextInt(2) == 0) {
+						var19 *= -1.0F;
+					}
+
+					if(var7.nextInt(2) == 0) {
+						var20 *= -1.0F;
+					}
+
+					if(var7.nextInt(3) == 0) {
+						this.worldObj.spawnParticle("fireflies", (double)((float)var3 + var21), (double)((float)var4 + var22), (double)((float)var5 + var23), (double)var18, (double)var19, (double)var20);
+					}
+				}
+			}
 		}
 
 	}
--- net/minecraft/src/ThreadDownloadResources.java
+++ net/minecraft/src/ThreadDownloadResources.java
@@ -16,6 +16,7 @@
 
 public class ThreadDownloadResources extends Thread {
 	public File resourcesFolder;
+	public File customFolder;
 	private Minecraft mc;
 	private boolean closing = false;
 
@@ -24,12 +25,32 @@
 		this.setName("Resource download thread");
 		this.setDaemon(true);
 		this.resourcesFolder = new File(var1, "resources/");
+		this.customFolder = new File(var1, "custom_resources/");
 		if(!this.resourcesFolder.exists() && !this.resourcesFolder.mkdirs()) {
 			throw new RuntimeException("The working directory could not be created: " + this.resourcesFolder);
 		}
+
+		if(!this.customFolder.exists() && !this.customFolder.mkdirs()) {
+			throw new RuntimeException("The working directory could not be created: " + this.customFolder);
+		}
+
+		try {
+			String[] folderNames = new String[]{"sound", "newsound", "streaming", "music", "newmusic"};
+			File file;
+			for(int i = 0; i < folderNames.length; ++i) {
+				file = new File(this.customFolder, folderNames[i]);
+				if(!file.exists() && !file.mkdirs()) {
+					throw new RuntimeException("The working directory could not be created: " + file);
+				}
+			}
+		} catch (Exception e) {
+			e.printStackTrace();
+		}
 	}
 
 	public void run() {
+		this.loadResource(this.customFolder, "");
+
 		try {
 			URL var1 = new URL("http://s3.amazonaws.com/MinecraftResources/");
 			DocumentBuilderFactory var2 = DocumentBuilderFactory.newInstance();
@@ -61,6 +82,7 @@
 	}
 
 	public void reloadResources() {
+		this.loadResource(this.customFolder, "");
 		this.loadResource(this.resourcesFolder, "");
 	}
 
@@ -127,6 +149,8 @@
 			var7.write(var5, 0, var9);
 		} while(!this.closing);
 
+		var6.close();
+		var7.close();
 	}
 
 	public void closeMinecraft() {
--- net/minecraft/src/BlockFluid.java
+++ net/minecraft/src/BlockFluid.java
@@ -2,7 +2,11 @@
 
 import java.util.Random;
 
+import net.minecraft.client.Minecraft;
+
 public abstract class BlockFluid extends Block {
+	protected static boolean graphicsLevel;
+
 	protected BlockFluid(int var1, Material var2) {
 		super(var1, (var2 == Material.lava ? 14 : 12) * 16 + 13, var2);
 		float var3 = 0.0F;
@@ -11,8 +15,19 @@
 		this.setTickOnLoad(true);
 	}
 
+	public int getRenderColor(int var1) {
+		return this.blockMaterial == Material.water ? 25828 : (graphicsLevel && this.blockMaterial == Material.lava ? 16722688 : 16777215);
+	}
+
 	public int colorMultiplier(IBlockAccess var1, int var2, int var3, int var4) {
-		return 16777215;
+		if(this.blockMaterial == Material.water) {
+			var1.getWorldChunkManager().func_4069_a(var2, var4, 1, 1);
+			double var5 = var1.getWorldChunkManager().temperature[0];
+			double var7 = var1.getWorldChunkManager().humidity[0];
+			return ColorizerWater.getWaterColor(var5, var7);
+		} else {
+			return graphicsLevel && this.blockMaterial == Material.lava ? 16722688 : 16777215;
+		}
 	}
 
 	public static float getPercentAir(int var0) {
@@ -59,12 +74,12 @@
 
 	public boolean getIsBlockSolid(IBlockAccess var1, int var2, int var3, int var4, int var5) {
 		Material var6 = var1.getBlockMaterial(var2, var3, var4);
-		return var6 == this.blockMaterial ? false : (var6 == Material.ice ? false : (var5 == 1 ? true : super.getIsBlockSolid(var1, var2, var3, var4, var5)));
+		return var6 == this.blockMaterial ? false : (var5 == 1 ? true : (var6 == Material.ice ? false : super.getIsBlockSolid(var1, var2, var3, var4, var5)));
 	}
 
 	public boolean shouldSideBeRendered(IBlockAccess var1, int var2, int var3, int var4, int var5) {
 		Material var6 = var1.getBlockMaterial(var2, var3, var4);
-		return var6 == this.blockMaterial ? false : (var6 == Material.ice ? false : (var5 == 1 ? true : super.shouldSideBeRendered(var1, var2, var3, var4, var5)));
+		return var6 == this.blockMaterial ? false : (var5 == 1 ? true : (var6 == Material.ice ? false : super.shouldSideBeRendered(var1, var2, var3, var4, var5)));
 	}
 
 	public AxisAlignedBB getCollisionBoundingBoxFromPool(World var1, int var2, int var3, int var4) {
@@ -191,20 +206,116 @@
 	}
 
 	public void randomDisplayTick(World var1, int var2, int var3, int var4, Random var5) {
+		int var6;
+		double var12;
+		if(this.blockMaterial == Material.water && Minecraft.isFancyGraphicsEnabled()) {
+			if(var5.nextInt(10) == 0) {
+				var6 = var1.getBlockMetadata(var2, var3, var4);
+				if(var6 <= 0 || var6 >= 8) {
+					var1.spawnParticle("suspended", (double)((float)var2 + var5.nextFloat()), (double)((float)var3 + var5.nextFloat()), (double)((float)var4 + var5.nextFloat()), 0.0D, 0.0D, 0.0D);
+				}
+			}
+
+			for(var6 = 0; var6 < 4; ++var6) {
+				int var7 = var5.nextInt(4);
+				int var8 = var2;
+				int var9 = var4;
+				if(var7 == 0) {
+					var8 = var2 - 1;
+				}
+
+				if(var7 == 1) {
+					++var8;
+				}
+
+				if(var7 == 2) {
+					var9 = var4 - 1;
+				}
+
+				if(var7 == 3) {
+					++var9;
+				}
+
+				Material var10 = var1.getBlockMaterial(var8, var3 - 1, var9);
+				if(var1.getBlockMaterial(var8, var3, var9) == Material.air && (var10.getIsSolid() || var10.getIsLiquid() || var10 == Material.portal)) {
+					float var11 = 1.0F / 16.0F;
+					var12 = (double)((float)var2 + var5.nextFloat());
+					double var14 = (double)((float)var3 + var5.nextFloat());
+					double var16 = (double)((float)var4 + var5.nextFloat());
+					if(var7 == 0) {
+						var12 = (double)((float)var2 - var11);
+					}
+
+					if(var7 == 1) {
+						var12 = (double)((float)(var2 + 1) + var11);
+					}
+
+					if(var7 == 2) {
+						var16 = (double)((float)var4 - var11);
+					}
+
+					if(var7 == 3) {
+						var16 = (double)((float)(var4 + 1) + var11);
+					}
+
+					double var18 = 0.0D;
+					double var20 = 0.0D;
+					if(var7 == 0) {
+						var18 = (double)(-var11);
+					}
+
+					if(var7 == 1) {
+						var18 = (double)var11;
+					}
+
+					if(var7 == 2) {
+						var20 = (double)(-var11);
+					}
+
+					if(var7 == 3) {
+						var20 = (double)var11;
+					}
+
+					var1.spawnParticle("splash", var12, var14, var16, var18, 0.0D, var20);
+				}
+			}
+		}
+		
 		if(this.blockMaterial == Material.water && var5.nextInt(64) == 0) {
-			int var6 = var1.getBlockMetadata(var2, var3, var4);
+			var6 = var1.getBlockMetadata(var2, var3, var4);
 			if(var6 > 0 && var6 < 8) {
 				var1.playSoundEffect((double)((float)var2 + 0.5F), (double)((float)var3 + 0.5F), (double)((float)var4 + 0.5F), "liquid.water", var5.nextFloat() * 0.25F + 12.0F / 16.0F, var5.nextFloat() * 1.0F + 0.5F);
 			}
 		}
 
-		if(this.blockMaterial == Material.lava && var1.getBlockMaterial(var2, var3 + 1, var4) == Material.air && !var1.isBlockOpaqueCube(var2, var3 + 1, var4) && var5.nextInt(100) == 0) {
-			double var12 = (double)((float)var2 + var5.nextFloat());
-			double var8 = (double)var3 + this.maxY;
-			double var10 = (double)((float)var4 + var5.nextFloat());
-			var1.spawnParticle("lava", var12, var8, var10, 0.0D, 0.0D, 0.0D);
-		}
-
+		double var25;
+		double var26;
+		if(this.blockMaterial == Material.lava && var1.getBlockMaterial(var2, var3 + 1, var4) == Material.air && !var1.isBlockOpaqueCube(var2, var3 + 1, var4)) {
+			if(var5.nextInt(100) == 0) {
+				double var23 = (double)((float)var2 + var5.nextFloat());
+				var25 = (double)var3 + this.maxY;
+				var26 = (double)((float)var4 + var5.nextFloat());
+				var1.spawnParticle("lava", var23, var25, var26, 0.0D, 0.0D, 0.0D);
+				var1.playSoundEffect(var23, var25, var26, "liquid.lavapop", 0.2F + var5.nextFloat() * 0.2F, 0.9F + var5.nextFloat() * 0.15F);
+			}
+
+			if(var5.nextInt(200) == 0) {
+				var1.playSoundEffect((double)var2, (double)var3, (double)var4, "liquid.lava", 0.2F + var5.nextFloat() * 0.2F, 0.9F + var5.nextFloat() * 0.15F);
+			}
+		}
+
+		Material var24 = var1.getBlockMaterial(var2, var3 - 2, var4);
+		boolean var22 = this.blockMaterial == Material.water;
+		if(var5.nextInt(50) == 0 && var1.isBlockNormalCube(var2, var3 - 1, var4) && !var24.getIsSolid() && var24 != this.blockMaterial) {
+			var25 = (double)((float)var2 + var5.nextFloat());
+			var26 = (double)var3 - 1.125D;
+			var12 = (double)((float)var4 + var5.nextFloat());
+			if(var22) {
+				var1.spawnParticle("water", var25, var26, var12, 0.0D, 0.0D, 0.0D);
+			} else if(this.blockMaterial == Material.lava) {
+				var1.spawnParticle("lava", var25, var26, var12, 0.0D, 0.0D, 0.0D);
+			}
+		}
 	}
 
 	public static double func_293_a(IBlockAccess var0, int var1, int var2, int var3, Material var4) {
--- net/minecraft/src/GuiAchievements.java
+++ net/minecraft/src/GuiAchievements.java
@@ -232,7 +232,7 @@
 		Achievement var27 = null;
 		RenderItem var29 = new RenderItem();
 		GL11.glPushMatrix();
-		GL11.glRotatef(180.0F, 1.0F, 0.0F, 0.0F);
+		GL11.glRotatef(120.0F, 1.0F, 0.0F, 0.0F);
 		RenderHelper.enableStandardItemLighting();
 		GL11.glPopMatrix();
 		GL11.glDisable(GL11.GL_LIGHTING);
--- net/minecraft/src/ItemStack.java
+++ net/minecraft/src/ItemStack.java
@@ -124,9 +124,14 @@
 	public void damageItem(int var1, Entity var2) {
 		if(this.isItemStackDamageable()) {
 			this.itemDamage += var1;
-			if(this.itemDamage > this.getMaxDamage()) {
+			if(this.itemDamage >= this.getMaxDamage()) {
 				if(var2 instanceof EntityPlayer) {
+					EntityPlayer var3 = (EntityPlayer) var2;
 					((EntityPlayer)var2).addStat(StatList.field_25170_B[this.itemID], 1);
+
+					if(this.getItem() instanceof ItemTool || this.getItem() instanceof ItemArmor) {
+						var3.worldObj.playSoundAtEntity(var3, "random.break", 0.8F, 0.8F + var3.worldObj.rand.nextFloat() * 0.4F);
+					}
 				}
 
 				--this.stackSize;
--- net/minecraft/src/EntityChicken.java
+++ net/minecraft/src/EntityChicken.java
@@ -12,7 +12,7 @@
 	public EntityChicken(World var1) {
 		super(var1);
 		this.texture = "/mob/chicken.png";
-		this.setSize(0.3F, 0.4F);
+		this.setSize(0.4F, 0.7F);
 		this.health = 4;
 		this.timeUntilNextEgg = this.rand.nextInt(6000) + 6000;
 	}
--- /dev/null
+++ net/minecraft/src/EntityCrit2FX.java
@@ -1,0 +1,49 @@
+package net.minecraft.src;
+
+public class EntityCrit2FX extends EntityFX {
+	private Entity field_35134_a;
+	private int field_35133_ay;
+	private int field_35132_az;
+	private String field_40105_ay;
+
+	public EntityCrit2FX(World var1, Entity var2) {
+		this(var1, var2, "crit");
+	}
+
+	public EntityCrit2FX(World var1, Entity var2, String var3) {
+		super(var1, var2.posX, var2.boundingBox.minY + (double)(var2.height / 2.0F), var2.posZ, var2.motionX, var2.motionY, var2.motionZ);
+		this.field_35133_ay = 0;
+		this.field_35132_az = 0;
+		this.field_35134_a = var2;
+		this.field_35132_az = 3;
+		this.field_40105_ay = var3;
+		this.onUpdate();
+	}
+
+	public void renderParticle(Tessellator var1, float var2, float var3, float var4, float var5, float var6, float var7) {
+	}
+
+	public void onUpdate() {
+		for(int var1 = 0; var1 < 16; ++var1) {
+			double var2 = (double)(this.rand.nextFloat() * 2.0F - 1.0F);
+			double var4 = (double)(this.rand.nextFloat() * 2.0F - 1.0F);
+			double var6 = (double)(this.rand.nextFloat() * 2.0F - 1.0F);
+			if(var2 * var2 + var4 * var4 + var6 * var6 <= 1.0D) {
+				double var8 = this.field_35134_a.posX + var2 * (double)this.field_35134_a.width / 4.0D;
+				double var10 = this.field_35134_a.boundingBox.minY + (double)(this.field_35134_a.height / 2.0F) + var4 * (double)this.field_35134_a.height / 4.0D;
+				double var12 = this.field_35134_a.posZ + var6 * (double)this.field_35134_a.width / 4.0D;
+				this.worldObj.spawnParticle(this.field_40105_ay, var8, var10, var12, var2, var4 + 0.2D, var6);
+			}
+		}
+
+		++this.field_35133_ay;
+		if(this.field_35133_ay >= this.field_35132_az) {
+			this.setEntityDead();
+		}
+
+	}
+
+	public int getFXLayer() {
+		return 3;
+	}
+}
--- net/minecraft/src/ModelSlime.java
+++ net/minecraft/src/ModelSlime.java
@@ -7,16 +7,16 @@
 	ModelRenderer slimeMouth;
 
 	public ModelSlime(int var1) {
-		this.slimeBodies = new ModelRenderer(0, var1);
+		this.slimeBodies = new ModelRenderer(this, 0, var1);
 		this.slimeBodies.addBox(-4.0F, 16.0F, -4.0F, 8, 8, 8);
 		if(var1 > 0) {
-			this.slimeBodies = new ModelRenderer(0, var1);
+			this.slimeBodies = new ModelRenderer(this, 0, var1);
 			this.slimeBodies.addBox(-3.0F, 17.0F, -3.0F, 6, 6, 6);
-			this.slimeRightEye = new ModelRenderer(32, 0);
+			this.slimeRightEye = new ModelRenderer(this, 32, 0);
 			this.slimeRightEye.addBox(-3.25F, 18.0F, -3.5F, 2, 2, 2);
-			this.slimeLeftEye = new ModelRenderer(32, 4);
+			this.slimeLeftEye = new ModelRenderer(this, 32, 4);
 			this.slimeLeftEye.addBox(1.25F, 18.0F, -3.5F, 2, 2, 2);
-			this.slimeMouth = new ModelRenderer(32, 8);
+			this.slimeMouth = new ModelRenderer(this, 32, 8);
 			this.slimeMouth.addBox(0.0F, 21.0F, -3.5F, 1, 1, 1);
 		}
 
--- net/minecraft/src/ItemSlab.java
+++ net/minecraft/src/ItemSlab.java
@@ -16,6 +16,11 @@
 	}
 
 	public String getItemNameIS(ItemStack var1) {
-		return super.getItemName() + "." + BlockStep.field_22037_a[var1.getItemDamage()];
+		int var2 = var1.getItemDamage();
+		if(var2 < 0 || var2 >= BlockStep.field_22037_a.length) {
+			var2 = 0;
+		}
+
+		return super.getItemName() + "." + BlockStep.field_22037_a[var2];
 	}
 }
--- net/minecraft/src/ModelMinecart.java
+++ net/minecraft/src/ModelMinecart.java
@@ -4,12 +4,12 @@
 	public ModelRenderer[] sideModels = new ModelRenderer[7];
 
 	public ModelMinecart() {
-		this.sideModels[0] = new ModelRenderer(0, 10);
-		this.sideModels[1] = new ModelRenderer(0, 0);
-		this.sideModels[2] = new ModelRenderer(0, 0);
-		this.sideModels[3] = new ModelRenderer(0, 0);
-		this.sideModels[4] = new ModelRenderer(0, 0);
-		this.sideModels[5] = new ModelRenderer(44, 10);
+		this.sideModels[0] = new ModelRenderer(this, 0, 10);
+		this.sideModels[1] = new ModelRenderer(this, 0, 0);
+		this.sideModels[2] = new ModelRenderer(this, 0, 0);
+		this.sideModels[3] = new ModelRenderer(this, 0, 0);
+		this.sideModels[4] = new ModelRenderer(this, 0, 0);
+		this.sideModels[5] = new ModelRenderer(this, 44, 10);
 		byte var1 = 20;
 		byte var2 = 8;
 		byte var3 = 16;
--- net/minecraft/src/ItemBow.java
+++ net/minecraft/src/ItemBow.java
@@ -16,4 +16,8 @@
 
 		return var1;
 	}
+
+	public boolean isFull3D() {
+		return true;
+	}
 }
--- net/minecraft/src/EnumOptions.java
+++ net/minecraft/src/EnumOptions.java
@@ -5,6 +5,7 @@
 	SOUND("options.sound", true, false),
 	INVERT_MOUSE("options.invertMouse", false, true),
 	SENSITIVITY("options.sensitivity", true, false),
+	FOV("options.fov", true, false),
 	RENDER_DISTANCE("options.renderDistance", false, false),
 	VIEW_BOBBING("options.viewBobbing", false, true),
 	ANAGLYPH("options.anaglyph", false, true),
--- net/minecraft/src/SlotArmor.java
+++ net/minecraft/src/SlotArmor.java
@@ -17,4 +17,8 @@
 	public boolean isItemValid(ItemStack var1) {
 		return var1.getItem() instanceof ItemArmor ? ((ItemArmor)var1.getItem()).armorType == this.armorType : (var1.getItem().shiftedIndex == Block.pumpkin.blockID ? this.armorType == 0 : false);
 	}
+
+	public int getBackgroundIconIndex() {
+		return 15 + this.armorType * 16;
+	}
 }
--- net/minecraft/src/ModelSpider.java
+++ net/minecraft/src/ModelSpider.java
@@ -16,37 +16,37 @@
 	public ModelSpider() {
 		float var1 = 0.0F;
 		byte var2 = 15;
-		this.spiderHead = new ModelRenderer(32, 4);
+		this.spiderHead = new ModelRenderer(this, 32, 4);
 		this.spiderHead.addBox(-4.0F, -4.0F, -8.0F, 8, 8, 8, var1);
 		this.spiderHead.setRotationPoint(0.0F, (float)(0 + var2), -3.0F);
-		this.spiderNeck = new ModelRenderer(0, 0);
+		this.spiderNeck = new ModelRenderer(this, 0, 0);
 		this.spiderNeck.addBox(-3.0F, -3.0F, -3.0F, 6, 6, 6, var1);
 		this.spiderNeck.setRotationPoint(0.0F, (float)var2, 0.0F);
-		this.spiderBody = new ModelRenderer(0, 12);
+		this.spiderBody = new ModelRenderer(this, 0, 12);
 		this.spiderBody.addBox(-5.0F, -4.0F, -6.0F, 10, 8, 12, var1);
 		this.spiderBody.setRotationPoint(0.0F, (float)(0 + var2), 9.0F);
-		this.spiderLeg1 = new ModelRenderer(18, 0);
+		this.spiderLeg1 = new ModelRenderer(this, 18, 0);
 		this.spiderLeg1.addBox(-15.0F, -1.0F, -1.0F, 16, 2, 2, var1);
 		this.spiderLeg1.setRotationPoint(-4.0F, (float)(0 + var2), 2.0F);
-		this.spiderLeg2 = new ModelRenderer(18, 0);
+		this.spiderLeg2 = new ModelRenderer(this, 18, 0);
 		this.spiderLeg2.addBox(-1.0F, -1.0F, -1.0F, 16, 2, 2, var1);
 		this.spiderLeg2.setRotationPoint(4.0F, (float)(0 + var2), 2.0F);
-		this.spiderLeg3 = new ModelRenderer(18, 0);
+		this.spiderLeg3 = new ModelRenderer(this, 18, 0);
 		this.spiderLeg3.addBox(-15.0F, -1.0F, -1.0F, 16, 2, 2, var1);
 		this.spiderLeg3.setRotationPoint(-4.0F, (float)(0 + var2), 1.0F);
-		this.spiderLeg4 = new ModelRenderer(18, 0);
+		this.spiderLeg4 = new ModelRenderer(this, 18, 0);
 		this.spiderLeg4.addBox(-1.0F, -1.0F, -1.0F, 16, 2, 2, var1);
 		this.spiderLeg4.setRotationPoint(4.0F, (float)(0 + var2), 1.0F);
-		this.spiderLeg5 = new ModelRenderer(18, 0);
+		this.spiderLeg5 = new ModelRenderer(this, 18, 0);
 		this.spiderLeg5.addBox(-15.0F, -1.0F, -1.0F, 16, 2, 2, var1);
 		this.spiderLeg5.setRotationPoint(-4.0F, (float)(0 + var2), 0.0F);
-		this.spiderLeg6 = new ModelRenderer(18, 0);
+		this.spiderLeg6 = new ModelRenderer(this, 18, 0);
 		this.spiderLeg6.addBox(-1.0F, -1.0F, -1.0F, 16, 2, 2, var1);
 		this.spiderLeg6.setRotationPoint(4.0F, (float)(0 + var2), 0.0F);
-		this.spiderLeg7 = new ModelRenderer(18, 0);
+		this.spiderLeg7 = new ModelRenderer(this, 18, 0);
 		this.spiderLeg7.addBox(-15.0F, -1.0F, -1.0F, 16, 2, 2, var1);
 		this.spiderLeg7.setRotationPoint(-4.0F, (float)(0 + var2), -1.0F);
-		this.spiderLeg8 = new ModelRenderer(18, 0);
+		this.spiderLeg8 = new ModelRenderer(this, 18, 0);
 		this.spiderLeg8.addBox(-1.0F, -1.0F, -1.0F, 16, 2, 2, var1);
 		this.spiderLeg8.setRotationPoint(4.0F, (float)(0 + var2), -1.0F);
 	}
--- net/minecraft/src/ItemAxe.java
+++ net/minecraft/src/ItemAxe.java
@@ -1,7 +1,7 @@
 package net.minecraft.src;
 
 public class ItemAxe extends ItemTool {
-	private static Block[] blocksEffectiveAgainst = new Block[]{Block.planks, Block.bookShelf, Block.wood, Block.chest};
+	private static Block[] blocksEffectiveAgainst = new Block[]{Block.planks, Block.bookShelf, Block.wood, Block.chest, Block.workbench, Block.stairCompactPlanks, Block.jukebox, Block.signPost, Block.signWall, Block.pressurePlatePlanks, Block.ladder, Block.doorWood, Block.trapdoor, Block.pumpkin, Block.pumpkinLantern, Block.fence, Block.musicBlock};
 
 	protected ItemAxe(int var1, EnumToolMaterial var2) {
 		super(var1, 3, var2, blocksEffectiveAgainst);
--- net/minecraft/src/BlockBookshelf.java
+++ net/minecraft/src/BlockBookshelf.java
@@ -12,6 +12,10 @@
 	}
 
 	public int quantityDropped(Random var1) {
-		return 0;
+		return 3;
+	}
+
+	public int idDropped(int var1, Random var2) {
+		return Item.book.shiftedIndex;
 	}
 }
--- net/minecraft/src/ItemPickaxe.java
+++ net/minecraft/src/ItemPickaxe.java
@@ -1,7 +1,7 @@
 package net.minecraft.src;
 
 public class ItemPickaxe extends ItemTool {
-	private static Block[] blocksEffectiveAgainst = new Block[]{Block.cobblestone, Block.stairDouble, Block.stairSingle, Block.stone, Block.sandStone, Block.cobblestoneMossy, Block.oreIron, Block.blockSteel, Block.oreCoal, Block.blockGold, Block.oreGold, Block.oreDiamond, Block.blockDiamond, Block.ice, Block.netherrack, Block.oreLapis, Block.blockLapis};
+	private static Block[] blocksEffectiveAgainst = new Block[]{Block.cobblestone, Block.stairDouble, Block.stairSingle, Block.stone, Block.sandStone, Block.cobblestoneMossy, Block.oreIron, Block.blockSteel, Block.oreCoal, Block.blockGold, Block.oreGold, Block.oreDiamond, Block.blockDiamond, Block.ice, Block.netherrack, Block.oreLapis, Block.blockLapis, Block.dispenser, Block.brick, Block.railPowered, Block.railDetector, Block.rail, Block.stoneOvenIdle, Block.stoneOvenActive, Block.stairCompactCobblestone, Block.pressurePlateStone, Block.doorSteel, Block.oreRedstone, Block.oreRedstoneGlowing, Block.button, Block.mobSpawner};
 
 	protected ItemPickaxe(int var1, EnumToolMaterial var2) {
 		super(var1, 2, var2, blocksEffectiveAgainst);
--- net/minecraft/src/RenderSheep.java
+++ net/minecraft/src/RenderSheep.java
@@ -10,10 +10,12 @@
 
 	protected boolean setWoolColorAndRender(EntitySheep var1, int var2, float var3) {
 		if(var2 == 0 && !var1.getSheared()) {
-			this.loadTexture("/mob/sheep_fur.png");
-			float var4 = var1.getEntityBrightness(var3);
-			int var5 = var1.getFleeceColor();
-			GL11.glColor3f(var4 * EntitySheep.fleeceColorTable[var5][0], var4 * EntitySheep.fleeceColorTable[var5][1], var4 * EntitySheep.fleeceColorTable[var5][2]);
+			if(var1.getFleeceColor() < 0 || var1.getFleeceColor() >= 16) {
+				this.loadTexture("/mob/sheep_fur_0.png");
+			}
+
+			this.loadTexture("/mob/sheep_fur_" + var1.getFleeceColor() + ".png");
+
 			return true;
 		} else {
 			return false;
--- net/minecraft/src/ModelSkeleton.java
+++ net/minecraft/src/ModelSkeleton.java
@@ -3,17 +3,17 @@
 public class ModelSkeleton extends ModelZombie {
 	public ModelSkeleton() {
 		float var1 = 0.0F;
-		this.bipedRightArm = new ModelRenderer(40, 16);
+		this.bipedRightArm = new ModelRenderer(this, 40, 16);
 		this.bipedRightArm.addBox(-1.0F, -2.0F, -1.0F, 2, 12, 2, var1);
 		this.bipedRightArm.setRotationPoint(-5.0F, 2.0F, 0.0F);
-		this.bipedLeftArm = new ModelRenderer(40, 16);
+		this.bipedLeftArm = new ModelRenderer(this, 40, 16);
 		this.bipedLeftArm.mirror = true;
 		this.bipedLeftArm.addBox(-1.0F, -2.0F, -1.0F, 2, 12, 2, var1);
 		this.bipedLeftArm.setRotationPoint(5.0F, 2.0F, 0.0F);
-		this.bipedRightLeg = new ModelRenderer(0, 16);
+		this.bipedRightLeg = new ModelRenderer(this, 0, 16);
 		this.bipedRightLeg.addBox(-1.0F, 0.0F, -1.0F, 2, 12, 2, var1);
 		this.bipedRightLeg.setRotationPoint(-2.0F, 12.0F, 0.0F);
-		this.bipedLeftLeg = new ModelRenderer(0, 16);
+		this.bipedLeftLeg = new ModelRenderer(this, 0, 16);
 		this.bipedLeftLeg.mirror = true;
 		this.bipedLeftLeg.addBox(-1.0F, 0.0F, -1.0F, 2, 12, 2, var1);
 		this.bipedLeftLeg.setRotationPoint(2.0F, 12.0F, 0.0F);
--- net/minecraft/src/Block.java
+++ net/minecraft/src/Block.java
@@ -229,7 +229,16 @@
 	}
 
 	public float getBlockBrightness(IBlockAccess var1, int var2, int var3, int var4) {
-		return var1.getBrightness(var2, var3, var4, lightValue[this.blockID]);
+		if(var1.getBlockMaterial(var2, var3, var4) == Material.leaves) {
+			float brightness = var1.getBrightness(var2, var3, var4, lightValue[this.blockID]);
+			if(brightness > 0.2F) {
+				brightness = 0.2F;
+			}
+
+			return brightness;
+		} else {
+			return var1.getBrightness(var2, var3, var4, lightValue[this.blockID]);
+		}
 	}
 
 	public boolean shouldSideBeRendered(IBlockAccess var1, int var2, int var3, int var4, int var5) {
--- net/minecraft/src/BlockLeaves.java
+++ net/minecraft/src/BlockLeaves.java
@@ -156,6 +156,14 @@
 		return Block.sapling.blockID;
 	}
 
+	public void dropBlockAsItemWithChance(World var1, int var2, int var3, int var4, int var5, float var6) {
+		super.dropBlockAsItemWithChance(var1, var2, var3, var4, var5, var6);
+		if(!var1.multiplayerWorld && (var5 & 3) == 0 && var1.rand.nextInt(200) == 0) {
+			this.dropBlockAsItem_do(var1, var2, var3, var4, new ItemStack(Item.appleRed, 1, 0));
+		}
+
+	}
+
 	public void harvestBlock(World var1, EntityPlayer var2, int var3, int var4, int var5, int var6) {
 		if(!var1.multiplayerWorld && var2.getCurrentEquippedItem() != null && var2.getCurrentEquippedItem().itemID == Item.shears.shiftedIndex) {
 			var2.addStat(StatList.mineBlockStatArray[this.blockID], 1);
--- net/minecraft/src/ModelBiped.java
+++ net/minecraft/src/ModelBiped.java
@@ -26,30 +26,30 @@
 		this.field_1279_h = false;
 		this.field_1278_i = false;
 		this.isSneak = false;
-		this.bipedCloak = new ModelRenderer(0, 0);
+		this.bipedCloak = new ModelRenderer(this, 0, 0);
 		this.bipedCloak.addBox(-5.0F, 0.0F, -1.0F, 10, 16, 1, var1);
-		this.bipedEars = new ModelRenderer(24, 0);
+		this.bipedEars = new ModelRenderer(this, 24, 0);
 		this.bipedEars.addBox(-3.0F, -6.0F, -1.0F, 6, 6, 1, var1);
-		this.bipedHead = new ModelRenderer(0, 0);
+		this.bipedHead = new ModelRenderer(this, 0, 0);
 		this.bipedHead.addBox(-4.0F, -8.0F, -4.0F, 8, 8, 8, var1);
 		this.bipedHead.setRotationPoint(0.0F, 0.0F + var2, 0.0F);
-		this.bipedHeadwear = new ModelRenderer(32, 0);
+		this.bipedHeadwear = new ModelRenderer(this, 32, 0);
 		this.bipedHeadwear.addBox(-4.0F, -8.0F, -4.0F, 8, 8, 8, var1 + 0.5F);
 		this.bipedHeadwear.setRotationPoint(0.0F, 0.0F + var2, 0.0F);
-		this.bipedBody = new ModelRenderer(16, 16);
+		this.bipedBody = new ModelRenderer(this, 16, 16);
 		this.bipedBody.addBox(-4.0F, 0.0F, -2.0F, 8, 12, 4, var1);
 		this.bipedBody.setRotationPoint(0.0F, 0.0F + var2, 0.0F);
-		this.bipedRightArm = new ModelRenderer(40, 16);
+		this.bipedRightArm = new ModelRenderer(this, 40, 16);
 		this.bipedRightArm.addBox(-3.0F, -2.0F, -2.0F, 4, 12, 4, var1);
 		this.bipedRightArm.setRotationPoint(-5.0F, 2.0F + var2, 0.0F);
-		this.bipedLeftArm = new ModelRenderer(40, 16);
+		this.bipedLeftArm = new ModelRenderer(this, 40, 16);
 		this.bipedLeftArm.mirror = true;
 		this.bipedLeftArm.addBox(-1.0F, -2.0F, -2.0F, 4, 12, 4, var1);
 		this.bipedLeftArm.setRotationPoint(5.0F, 2.0F + var2, 0.0F);
-		this.bipedRightLeg = new ModelRenderer(0, 16);
+		this.bipedRightLeg = new ModelRenderer(this, 0, 16);
 		this.bipedRightLeg.addBox(-2.0F, 0.0F, -2.0F, 4, 12, 4, var1);
 		this.bipedRightLeg.setRotationPoint(-2.0F, 12.0F + var2, 0.0F);
-		this.bipedLeftLeg = new ModelRenderer(0, 16);
+		this.bipedLeftLeg = new ModelRenderer(this, 0, 16);
 		this.bipedLeftLeg.mirror = true;
 		this.bipedLeftLeg.addBox(-2.0F, 0.0F, -2.0F, 4, 12, 4, var1);
 		this.bipedLeftLeg.setRotationPoint(2.0F, 12.0F + var2, 0.0F);
--- net/minecraft/src/ColorizerWater.java
+++ net/minecraft/src/ColorizerWater.java
@@ -6,4 +6,14 @@
 	public static void func_28182_a(int[] var0) {
 		waterBuffer = var0;
 	}
+
+	public static int getWaterColor(double var0, double var2) {
+		try {
+			int var4 = (int)((1.0D - var0) * 255.0D);
+			int var5 = (int)((1.0D - var2 * var0) * 255.0D);
+			return waterBuffer[var5 << 8 | var4];
+		} catch (Throwable var6) {
+			return 25828;
+		}
+	}
 }
--- net/minecraft/src/EntitySheep.java
+++ net/minecraft/src/EntitySheep.java
@@ -3,11 +3,11 @@
 import java.util.Random;
 
 public class EntitySheep extends EntityAnimal {
-	public static final float[][] fleeceColorTable = new float[][]{{1.0F, 1.0F, 1.0F}, {0.95F, 0.7F, 0.2F}, {0.9F, 0.5F, 0.85F}, {0.6F, 0.7F, 0.95F}, {0.9F, 0.9F, 0.2F}, {0.5F, 0.8F, 0.1F}, {0.95F, 0.7F, 0.8F}, {0.3F, 0.3F, 0.3F}, {0.6F, 0.6F, 0.6F}, {0.3F, 0.6F, 0.7F}, {0.7F, 0.4F, 0.9F}, {0.2F, 0.4F, 0.8F}, {0.5F, 0.4F, 0.3F}, {0.4F, 0.5F, 0.2F}, {0.8F, 0.3F, 0.3F}, {0.1F, 0.1F, 0.1F}};
+	int fleeceColor = 15;
 
 	public EntitySheep(World var1) {
 		super(var1);
-		this.texture = "/mob/sheep.png";
+		this.texture = "/mob/sheep_0.png";
 		this.setSize(0.9F, 1.3F);
 	}
 
@@ -16,6 +16,14 @@
 		this.dataWatcher.addObject(16, new Byte((byte)0));
 	}
 
+	public String getEntityTexture() {
+		if(this.getFleeceColor() < 0 || this.getFleeceColor() >= 16) {
+			return super.getEntityTexture();
+		}
+
+		return "/mob/sheep_" + this.getFleeceColor() + ".png";
+	}
+
 	public boolean attackEntityFrom(Entity var1, int var2) {
 		return super.attackEntityFrom(var1, var2);
 	}
@@ -47,6 +55,7 @@
 			}
 
 			var2.damageItem(1, var1);
+			this.worldObj.playSoundAtEntity(this, "mob.sheep.shear", 1.0F, 1.0F);
 		}
 
 		return false;
@@ -77,12 +86,11 @@
 	}
 
 	public int getFleeceColor() {
-		return this.dataWatcher.getWatchableObjectByte(16) & 15;
+		return this.fleeceColor;
 	}
 
 	public void setFleeceColor(int var1) {
-		byte var2 = this.dataWatcher.getWatchableObjectByte(16);
-		this.dataWatcher.updateObject(16, Byte.valueOf((byte)(var2 & 240 | var1 & 15)));
+		this.fleeceColor = var1;
 	}
 
 	public boolean getSheared() {
--- net/minecraft/src/TextureWaterFlowFX.java
+++ net/minecraft/src/TextureWaterFlowFX.java
@@ -63,8 +63,8 @@
 			}
 
 			float var13 = var3 * var3;
-			var5 = (int)(32.0F + var13 * 32.0F);
-			var6 = (int)(50.0F + var13 * 64.0F);
+			var5 = (int)(111.0F + var13 * 76.0F);
+			var6 = (int)(139.0F + var13 * 116.0F);
 			int var7 = 255;
 			int var8 = (int)(146.0F + var13 * 50.0F);
 			if(this.anaglyphEnabled) {
--- /dev/null
+++ net/minecraft/src/EntityWaterFX.java
@@ -1,0 +1,84 @@
+package net.minecraft.src;
+
+public class EntityWaterFX extends EntityLavaFX {
+	private float waterParticleScale;
+
+	public EntityWaterFX(World var1, double var2, double var4, double var6) {
+		super(var1, var2, var4, var6);
+		var1.getWorldChunkManager().func_4069_a(MathHelper.floor_double(var2), MathHelper.floor_double(var6), 1, 1);
+		int var8 = ColorizerWater.getWaterColor(var1.getWorldChunkManager().temperature[0], var1.getWorldChunkManager().humidity[0]);
+		this.particleRed = (float)(var8 >> 16 & 255) / 255.0F;
+		this.particleGreen = (float)(var8 >> 8 & 255) / 255.0F;
+		this.particleBlue = (float)(var8 & 255) / 255.0F;
+		this.waterParticleScale = this.particleScale;
+		this.particleTextureIndex += 48;
+	}
+
+	public float getEntityBrightness(float var1) {
+		int var2 = MathHelper.floor_double(this.posX);
+		double var3 = (this.boundingBox.maxY - this.boundingBox.minY) * 0.66D;
+		int var5 = MathHelper.floor_double(this.posY - (double)this.yOffset + var3);
+		int var6 = MathHelper.floor_double(this.posZ);
+		if(this.worldObj.checkChunksExist(MathHelper.floor_double(this.boundingBox.minX), MathHelper.floor_double(this.boundingBox.minY), MathHelper.floor_double(this.boundingBox.minZ), MathHelper.floor_double(this.boundingBox.maxX), MathHelper.floor_double(this.boundingBox.maxY), MathHelper.floor_double(this.boundingBox.maxZ))) {
+			float var7 = this.worldObj.getLightBrightness(var2, var5, var6);
+			if(var7 < this.entityBrightness) {
+				var7 = this.entityBrightness;
+			}
+
+			return var7;
+		} else {
+			return this.entityBrightness;
+		}
+	}
+
+	public void renderParticle(Tessellator var1, float var2, float var3, float var4, float var5, float var6, float var7) {
+		float var8 = ((float)this.particleAge + var2) / (float)this.particleMaxAge;
+		this.particleScale = this.waterParticleScale * (1.0F - var8 * var8);
+		float var9 = (float)(this.particleTextureIndex % 16) / 16.0F;
+		float var10 = var9 + 0.999F / 16.0F;
+		float var11 = (float)(this.particleTextureIndex / 16) / 16.0F;
+		float var12 = var11 + 0.999F / 16.0F;
+		float var13 = 0.1F * this.particleScale;
+		float var14 = (float)(this.prevPosX + (this.posX - this.prevPosX) * (double)var2 - interpPosX);
+		float var15 = (float)(this.prevPosY + (this.posY - this.prevPosY) * (double)var2 - interpPosY);
+		float var16 = (float)(this.prevPosZ + (this.posZ - this.prevPosZ) * (double)var2 - interpPosZ);
+		float var17 = this.getEntityBrightness(var2);
+		var1.setColorOpaque_F(this.particleRed * var17, this.particleGreen * var17, this.particleBlue * var17);
+		var1.addVertexWithUV((double)(var14 - var3 * var13 - var6 * var13), (double)(var15 - var4 * var13), (double)(var16 - var5 * var13 - var7 * var13), (double)var10, (double)var12);
+		var1.addVertexWithUV((double)(var14 - var3 * var13 + var6 * var13), (double)(var15 + var4 * var13), (double)(var16 - var5 * var13 + var7 * var13), (double)var10, (double)var11);
+		var1.addVertexWithUV((double)(var14 + var3 * var13 + var6 * var13), (double)(var15 + var4 * var13), (double)(var16 + var5 * var13 + var7 * var13), (double)var9, (double)var11);
+		var1.addVertexWithUV((double)(var14 + var3 * var13 - var6 * var13), (double)(var15 - var4 * var13), (double)(var16 + var5 * var13 - var7 * var13), (double)var9, (double)var12);
+		var9 += 2.0F / 16.0F;
+		var10 += 2.0F / 16.0F;
+		var1.setColorOpaque_F(var17, var17, var17);
+		var1.addVertexWithUV((double)(var14 - var3 * var13 - var6 * var13), (double)(var15 - var4 * var13), (double)(var16 - var5 * var13 - var7 * var13), (double)var10, (double)var12);
+		var1.addVertexWithUV((double)(var14 - var3 * var13 + var6 * var13), (double)(var15 + var4 * var13), (double)(var16 - var5 * var13 + var7 * var13), (double)var10, (double)var11);
+		var1.addVertexWithUV((double)(var14 + var3 * var13 + var6 * var13), (double)(var15 + var4 * var13), (double)(var16 + var5 * var13 + var7 * var13), (double)var9, (double)var11);
+		var1.addVertexWithUV((double)(var14 + var3 * var13 - var6 * var13), (double)(var15 - var4 * var13), (double)(var16 + var5 * var13 - var7 * var13), (double)var9, (double)var12);
+	}
+
+	public void onUpdate() {
+		this.prevPosX = this.posX;
+		this.prevPosY = this.posY;
+		this.prevPosZ = this.posZ;
+		if(this.particleAge++ >= this.particleMaxAge) {
+			this.setEntityDead();
+		}
+
+		float var1 = (float)this.particleAge / (float)this.particleMaxAge;
+		if(this.rand.nextFloat() / 4.0F > var1) {
+			this.worldObj.spawnParticle("wlame", this.posX, this.posY, this.posZ, this.motionX, this.motionY, this.motionZ);
+		}
+
+		this.motionY -= 0.03D;
+		this.moveEntity(this.motionX, this.motionY, this.motionZ);
+		this.motionX *= (double)0.999F;
+		this.motionY *= (double)0.999F;
+		this.motionZ *= (double)0.999F;
+		if(this.onGround) {
+			this.motionX *= (double)0.7F;
+			this.motionZ *= (double)0.7F;
+		}
+
+	}
+}
--- /dev/null
+++ net/minecraft/src/EntityWakeFX.java
@@ -1,0 +1,47 @@
+package net.minecraft.src;
+
+public class EntityWakeFX extends EntityFX {
+	public EntityWakeFX(World var1, double var2, double var4, double var6, double var8, double var10, double var12) {
+		super(var1, var2, var4, var6, 0.0D, 0.0D, 0.0D);
+		this.motionX *= 0.3D;
+		this.motionY = (double)((float)Math.random() * 0.2F + 0.1F);
+		this.motionZ *= 0.3D;
+		var1.getWorldChunkManager().func_4069_a(MathHelper.floor_double(var2), MathHelper.floor_double(var6), 1, 1);
+		int var14 = ColorizerWater.getWaterColor(var1.getWorldChunkManager().temperature[0], var1.getWorldChunkManager().humidity[0]);
+		this.particleRed = (float)(var14 >> 16 & 255) / 255.0F;
+		this.particleGreen = (float)(var14 >> 8 & 255) / 255.0F;
+		this.particleBlue = (float)(var14 & 255) / 255.0F;
+		this.particleTextureIndex = 16 + this.rand.nextInt(2);
+		this.setSize(0.01F, 0.01F);
+		this.particleMaxAge = (int)(8.0D / (Math.random() * 0.8D + 0.2D));
+		this.particleGravity = 0.0F;
+		this.motionX = var8;
+		this.motionY = var10;
+		this.motionZ = var12;
+	}
+
+	public void onUpdate() {
+		this.prevPosX = this.posX;
+		this.prevPosY = this.posY;
+		this.prevPosZ = this.posZ;
+		this.motionY -= (double)this.particleGravity;
+		this.moveEntity(this.motionX, this.motionY, this.motionZ);
+		this.motionX *= 0.98D;
+		this.motionY *= 0.98D;
+		this.motionZ *= 0.98D;
+		int var1 = 60 - this.particleMaxAge;
+		float var2 = (float)var1 * 0.001F;
+		this.setSize(var2, var2);
+		var1 %= 4;
+		if(var1 == 0) {
+			this.particleTextureIndex = 16;
+		} else {
+			this.particleTextureIndex = 19 + var1;
+		}
+
+		if(this.particleMaxAge-- <= 0) {
+			this.setEntityDead();
+		}
+
+	}
+}
--- net/minecraft/src/EntitySlime.java
+++ net/minecraft/src/EntitySlime.java
@@ -97,6 +97,11 @@
 
 	public void setEntityDead() {
 		int var1 = this.getSlimeSize();
+
+		if(this.health < 0) {
+			this.health = 0;
+		}
+
 		if(!this.worldObj.multiplayerWorld && var1 > 1 && this.health == 0) {
 			for(int var2 = 0; var2 < 4; ++var2) {
 				float var3 = ((float)(var2 % 2) - 0.5F) * (float)var1 / 4.0F;
--- net/minecraft/src/ItemRenderer.java
+++ net/minecraft/src/ItemRenderer.java
@@ -136,6 +136,17 @@
 		GL11.glRotatef(var3.prevRotationYaw + (var3.rotationYaw - var3.prevRotationYaw) * var1, 0.0F, 1.0F, 0.0F);
 		RenderHelper.enableStandardItemLighting();
 		GL11.glPopMatrix();
+		if(var3 instanceof EntityPlayerSP) {
+			float flSwayPitch;
+			float flSwayYaw;
+
+			EntityPlayerSP var5 = (EntityPlayerSP)var3;
+			flSwayPitch = var5.flPreviousRenderArmPitch + (var5.flRenderArmPitch - var5.flPreviousRenderArmPitch) * var1;
+			flSwayYaw = var5.flPreviousRenderArmYaw + (var5.flRenderArmYaw - var5.flPreviousRenderArmYaw) * var1;
+			GL11.glRotatef((var3.rotationPitch - flSwayPitch) * 0.1F, 1.0F, 0.0F, 0.0F);
+			GL11.glRotatef((var3.rotationYaw - flSwayYaw) * 0.1F, 0.0F, 1.0F, 0.0F);
+		}
+
 		ItemStack var5 = this.itemToRender;
 		float var6 = this.mc.theWorld.getLightBrightness(MathHelper.floor_double(var3.posX), MathHelper.floor_double(var3.posY), MathHelper.floor_double(var3.posZ));
 		float var8;
@@ -350,6 +361,9 @@
 	private void renderWarpedTextureOverlay(float var1) {
 		Tessellator var2 = Tessellator.instance;
 		float var3 = this.mc.thePlayer.getEntityBrightness(var1);
+		this.mc.theWorld.getWorldChunkManager().func_4069_a(MathHelper.floor_double(this.mc.thePlayer.posX), MathHelper.floor_double(this.mc.thePlayer.posZ), 1, 1);
+		int var69 = ColorizerWater.getWaterColor(this.mc.theWorld.getWorldChunkManager().temperature[0], this.mc.theWorld.getWorldChunkManager().humidity[0]);
+		GL11.glColor4f((float)(var69 >> 16 & 255) / 255.0F * var3, (float)(var69 >> 8 & 255) / 255.0F * var3, (float)(var69 & 255) / 255.0F * var3, 0.5F);
 		GL11.glColor4f(var3, var3, var3, 0.5F);
 		GL11.glEnable(GL11.GL_BLEND);
 		GL11.glBlendFunc(GL11.GL_SRC_ALPHA, GL11.GL_ONE_MINUS_SRC_ALPHA);
--- net/minecraft/src/BlockGrass.java
+++ net/minecraft/src/BlockGrass.java
@@ -9,6 +9,10 @@
 		this.setTickOnLoad(true);
 	}
 
+	public int getBlockTextureFromSideAndMetadata(int var1, int var2) {
+		return var1 == 1 ? 0 : (var1 == 0 ? 2 : 3);
+	}
+
 	public int getBlockTexture(IBlockAccess var1, int var2, int var3, int var4, int var5) {
 		if(var5 == 1) {
 			return 0;
@@ -20,6 +24,16 @@
 		}
 	}
 
+	public int getBlockColor() {
+		double var1 = 0.5D;
+		double var3 = 1.0D;
+		return ColorizerGrass.getGrassColor(var1, var3);
+	}
+
+	public int getRenderColor(int var1) {
+		return this.getBlockColor();
+	}
+
 	public int colorMultiplier(IBlockAccess var1, int var2, int var3, int var4) {
 		var1.getWorldChunkManager().func_4069_a(var2, var4, 1, 1);
 		double var5 = var1.getWorldChunkManager().temperature[0];
@@ -44,7 +58,7 @@
 					var1.setBlockWithNotify(var6, var7, var8, Block.grass.blockID);
 				}
 			}
-
+			
 		}
 	}
 
--- net/minecraft/src/SoundPool.java
+++ net/minecraft/src/SoundPool.java
@@ -12,11 +12,16 @@
 	private Random rand = new Random();
 	private Map nameToSoundPoolEntriesMapping = new HashMap();
 	private List allSoundPoolEntries = new ArrayList();
+	public List allSoundPoolSoundNames = new ArrayList();
 	public int numberOfSoundPoolEntries = 0;
 	public boolean field_1657_b = true;
 
 	public SoundPoolEntry addSound(String var1, File var2) {
 		try {
+			if(this.allSoundPoolSoundNames.contains(var1)) {
+				return null;
+			}
+
 			String var3 = var1;
 			var1 = var1.substring(0, var1.indexOf("."));
 			if(this.field_1657_b) {
@@ -33,6 +38,7 @@
 			SoundPoolEntry var4 = new SoundPoolEntry(var3, var2.toURI().toURL());
 			((List)this.nameToSoundPoolEntriesMapping.get(var1)).add(var4);
 			this.allSoundPoolEntries.add(var4);
+			this.allSoundPoolSoundNames.add(var3);
 			++this.numberOfSoundPoolEntries;
 			return var4;
 		} catch (MalformedURLException var5) {
--- net/minecraft/src/ModelWolf.java
+++ net/minecraft/src/ModelWolf.java
@@ -18,37 +18,37 @@
 	public ModelWolf() {
 		float var1 = 0.0F;
 		float var2 = 13.5F;
-		this.wolfHeadMain = new ModelRenderer(0, 0);
+		this.wolfHeadMain = new ModelRenderer(this, 0, 0);
 		this.wolfHeadMain.addBox(-3.0F, -3.0F, -2.0F, 6, 6, 4, var1);
 		this.wolfHeadMain.setRotationPoint(-1.0F, var2, -7.0F);
-		this.wolfBody = new ModelRenderer(18, 14);
+		this.wolfBody = new ModelRenderer(this, 18, 14);
 		this.wolfBody.addBox(-4.0F, -2.0F, -3.0F, 6, 9, 6, var1);
 		this.wolfBody.setRotationPoint(0.0F, 14.0F, 2.0F);
-		this.wolfMane = new ModelRenderer(21, 0);
+		this.wolfMane = new ModelRenderer(this, 21, 0);
 		this.wolfMane.addBox(-4.0F, -3.0F, -3.0F, 8, 6, 7, var1);
 		this.wolfMane.setRotationPoint(-1.0F, 14.0F, 2.0F);
-		this.wolfLeg1 = new ModelRenderer(0, 18);
+		this.wolfLeg1 = new ModelRenderer(this, 0, 18);
 		this.wolfLeg1.addBox(-1.0F, 0.0F, -1.0F, 2, 8, 2, var1);
 		this.wolfLeg1.setRotationPoint(-2.5F, 16.0F, 7.0F);
-		this.wolfLeg2 = new ModelRenderer(0, 18);
+		this.wolfLeg2 = new ModelRenderer(this, 0, 18);
 		this.wolfLeg2.addBox(-1.0F, 0.0F, -1.0F, 2, 8, 2, var1);
 		this.wolfLeg2.setRotationPoint(0.5F, 16.0F, 7.0F);
-		this.wolfLeg3 = new ModelRenderer(0, 18);
+		this.wolfLeg3 = new ModelRenderer(this, 0, 18);
 		this.wolfLeg3.addBox(-1.0F, 0.0F, -1.0F, 2, 8, 2, var1);
 		this.wolfLeg3.setRotationPoint(-2.5F, 16.0F, -4.0F);
-		this.wolfLeg4 = new ModelRenderer(0, 18);
+		this.wolfLeg4 = new ModelRenderer(this, 0, 18);
 		this.wolfLeg4.addBox(-1.0F, 0.0F, -1.0F, 2, 8, 2, var1);
 		this.wolfLeg4.setRotationPoint(0.5F, 16.0F, -4.0F);
-		this.wolfTail = new ModelRenderer(9, 18);
+		this.wolfTail = new ModelRenderer(this, 9, 18);
 		this.wolfTail.addBox(-1.0F, 0.0F, -1.0F, 2, 8, 2, var1);
 		this.wolfTail.setRotationPoint(-1.0F, 12.0F, 8.0F);
-		this.wolfRightEar = new ModelRenderer(16, 14);
+		this.wolfRightEar = new ModelRenderer(this, 16, 14);
 		this.wolfRightEar.addBox(-3.0F, -5.0F, 0.0F, 2, 2, 1, var1);
 		this.wolfRightEar.setRotationPoint(-1.0F, var2, -7.0F);
-		this.wolfLeftEar = new ModelRenderer(16, 14);
+		this.wolfLeftEar = new ModelRenderer(this, 16, 14);
 		this.wolfLeftEar.addBox(1.0F, -5.0F, 0.0F, 2, 2, 1, var1);
 		this.wolfLeftEar.setRotationPoint(-1.0F, var2, -7.0F);
-		this.wolfSnout = new ModelRenderer(0, 10);
+		this.wolfSnout = new ModelRenderer(this, 0, 10);
 		this.wolfSnout.addBox(-2.0F, 0.0F, -5.0F, 3, 3, 4, var1);
 		this.wolfSnout.setRotationPoint(-0.5F, var2, -7.0F);
 	}
--- net/minecraft/src/ModelGhast.java
+++ net/minecraft/src/ModelGhast.java
@@ -8,13 +8,13 @@
 
 	public ModelGhast() {
 		byte var1 = -16;
-		this.body = new ModelRenderer(0, 0);
+		this.body = new ModelRenderer(this, 0, 0);
 		this.body.addBox(-8.0F, -8.0F, -8.0F, 16, 16, 16);
 		this.body.rotationPointY += (float)(24 + var1);
 		Random var2 = new Random(1660L);
 
 		for(int var3 = 0; var3 < this.tentacles.length; ++var3) {
-			this.tentacles[var3] = new ModelRenderer(0, 0);
+			this.tentacles[var3] = new ModelRenderer(this, 0, 0);
 			float var4 = (((float)(var3 % 3) - (float)(var3 / 3 % 2) * 0.5F + 0.25F) / 2.0F * 2.0F - 1.0F) * 5.0F;
 			float var5 = ((float)(var3 / 3) / 2.0F * 2.0F - 1.0F) * 5.0F;
 			int var6 = var2.nextInt(7) + 8;
--- net/minecraft/src/RenderBiped.java
+++ net/minecraft/src/RenderBiped.java
@@ -30,6 +30,11 @@
 				GL11.glScalef(var4, -var4, var4);
 				GL11.glRotatef(-100.0F, 1.0F, 0.0F, 0.0F);
 				GL11.glRotatef(45.0F, 0.0F, 1.0F, 0.0F);
+
+				if(var3.getItem() instanceof ItemBow) {
+					GL11.glRotatef(-5, 1, 0, 0);
+					GL11.glTranslatef(0.2F, -0.5F, 0.2F);
+				}
 			} else {
 				var4 = 6.0F / 16.0F;
 				GL11.glTranslatef(0.25F, 3.0F / 16.0F, -(3.0F / 16.0F));
--- net/minecraft/src/GuiGameOver.java
+++ net/minecraft/src/GuiGameOver.java
@@ -38,7 +38,7 @@
 		GL11.glScalef(2.0F, 2.0F, 2.0F);
 		this.drawCenteredString(this.fontRenderer, "Game over!", this.width / 2 / 2, 30, 16777215);
 		GL11.glPopMatrix();
-		this.drawCenteredString(this.fontRenderer, "Score: &e" + this.mc.thePlayer.getScore(), this.width / 2, 100, 16777215);
+		this.drawCenteredString(this.fontRenderer, "Score: e" + this.mc.thePlayer.getScore(), this.width / 2, 100, 16777215);
 		super.drawScreen(var1, var2, var3);
 	}
 
--- net/minecraft/src/EntityLiving.java
+++ net/minecraft/src/EntityLiving.java
@@ -39,6 +39,8 @@
 	public float field_705_Q;
 	public float field_704_R;
 	public float field_703_S;
+	public int field_35172_bP = 0;
+	public int field_35173_bQ = 0;
 	protected int newPosRotationIncrements;
 	protected double newPosX;
 	protected double newPosY;
@@ -56,6 +58,7 @@
 	protected float moveSpeed = 0.7F;
 	private Entity currentTarget;
 	protected int numTicksToChaseTarget = 0;
+	public int healAmount = 0;
 
 	public EntityLiving(World var1) {
 		super(var1);
@@ -202,6 +205,16 @@
 
 	public void onUpdate() {
 		super.onUpdate();
+		if(this.field_35172_bP > 0) {
+			if(this.field_35173_bQ <= 0) {
+				this.field_35173_bQ = 600;
+			}
+
+			--this.field_35173_bQ;
+			if(this.field_35173_bQ <= 0) {
+				--this.field_35172_bP;
+			}
+		}
 		this.onLivingUpdate();
 		double var1 = this.posX - this.prevPosX;
 		double var3 = this.posZ - this.prevPosZ;
@@ -441,6 +454,12 @@
 		super.fall(var1);
 		int var2 = (int)Math.ceil((double)(var1 - 3.0F));
 		if(var2 > 0) {
+			if(var2 > 4) {
+				this.worldObj.playSoundAtEntity(this, "damage.fallbig", 1.0F, 1.0F);
+			} else {
+				this.worldObj.playSoundAtEntity(this, "damage.fallsmall", 1.0F, 1.0F);
+			}
+			
 			this.attackEntityFrom((Entity)null, var2);
 			int var3 = this.worldObj.getBlockId(MathHelper.floor_double(this.posX), MathHelper.floor_double(this.posY - (double)0.2F - (double)this.yOffset), MathHelper.floor_double(this.posZ));
 			if(var3 > 0) {
@@ -581,6 +600,10 @@
 	}
 
 	public void onLivingUpdate() {
+		if(this.healAmount > 0) {
+			this.heal(this.healAmount);
+			this.healAmount = 0;
+		}
 		if(this.newPosRotationIncrements > 0) {
 			double var1 = this.posX + (this.newPosX - this.posX) / (double)this.newPosRotationIncrements;
 			double var3 = this.posY + (this.newPosY - this.posY) / (double)this.newPosRotationIncrements;
--- net/minecraft/src/RenderItem.java
+++ net/minecraft/src/RenderItem.java
@@ -42,7 +42,8 @@
 			GL11.glRotatef(var12, 0.0F, 1.0F, 0.0F);
 			this.loadTexture("/terrain.png");
 			float var28 = 0.25F;
-			if(!Block.blocksList[var10.itemID].renderAsNormalBlock() && var10.itemID != Block.stairSingle.blockID && Block.blocksList[var10.itemID].getRenderType() != 16) {
+			int var31 = Block.blocksList[var10.itemID].getRenderType();
+			if(var31 == 1 || var31 == 19 || var31 == 12 || var31 == 2) {
 				var28 = 0.5F;
 			}
 
--- /dev/null
+++ net/minecraft/src/EntitySuspendFX.java
@@ -1,0 +1,34 @@
+package net.minecraft.src;
+
+public class EntitySuspendFX extends EntityFX {
+	public EntitySuspendFX(World var1, double var2, double var4, double var6, double var8, double var10, double var12) {
+		super(var1, var2, var4 - 0.125D, var6, var8, var10, var12);
+		var1.getWorldChunkManager().func_4069_a(MathHelper.floor_double(var2), MathHelper.floor_double(var6), 1, 1);
+		int var14 = ColorizerWater.getWaterColor(var1.getWorldChunkManager().temperature[0], var1.getWorldChunkManager().humidity[0]);
+		this.particleRed = (float)(var14 >> 16 & 255) / 446.25F;
+		this.particleGreen = (float)(var14 >> 8 & 255) / 446.25F;
+		this.particleBlue = (float)(var14 & 255) / 255.0F;
+		this.particleTextureIndex = 0;
+		this.setSize(0.01F, 0.01F);
+		this.particleScale *= this.rand.nextFloat() * 0.6F + 0.2F;
+		this.motionX = var8 * 0.0D;
+		this.motionY = var10 * 0.0D;
+		this.motionZ = var12 * 0.0D;
+		this.particleMaxAge = (int)(16.0D / (Math.random() * 0.8D + 0.2D));
+	}
+
+	public void onUpdate() {
+		this.prevPosX = this.posX;
+		this.prevPosY = this.posY;
+		this.prevPosZ = this.posZ;
+		this.moveEntity(this.motionX, this.motionY, this.motionZ);
+		if(this.worldObj.getBlockMaterial(MathHelper.floor_double(this.posX), MathHelper.floor_double(this.posY), MathHelper.floor_double(this.posZ)) != Material.water) {
+			this.setEntityDead();
+		}
+
+		if(this.particleMaxAge-- <= 0) {
+			this.setEntityDead();
+		}
+
+	}
+}
--- net/minecraft/src/GuiStats.java
+++ net/minecraft/src/GuiStats.java
@@ -79,7 +79,7 @@
 		this.func_27147_a(var1 + 1, var2 + 1);
 		GL11.glEnable(GL12.GL_RESCALE_NORMAL);
 		GL11.glPushMatrix();
-		GL11.glRotatef(180.0F, 1.0F, 0.0F, 0.0F);
+		GL11.glRotatef(120.0F, 1.0F, 0.0F, 0.0F);
 		RenderHelper.enableStandardItemLighting();
 		GL11.glPopMatrix();
 		field_27153_j.drawItemIntoGui(this.fontRenderer, this.mc.renderEngine, var3, 0, Item.itemsList[var3].getIconFromDamage(0), var1 + 2, var2 + 2);
--- net/minecraft/src/ModelSheep1.java
+++ net/minecraft/src/ModelSheep1.java
@@ -3,23 +3,23 @@
 public class ModelSheep1 extends ModelQuadruped {
 	public ModelSheep1() {
 		super(12, 0.0F);
-		this.head = new ModelRenderer(0, 0);
+		this.head = new ModelRenderer(this, 0, 0);
 		this.head.addBox(-3.0F, -4.0F, -4.0F, 6, 6, 6, 0.6F);
 		this.head.setRotationPoint(0.0F, 6.0F, -8.0F);
-		this.body = new ModelRenderer(28, 8);
+		this.body = new ModelRenderer(this, 28, 8);
 		this.body.addBox(-4.0F, -10.0F, -7.0F, 8, 16, 6, 1.75F);
 		this.body.setRotationPoint(0.0F, 5.0F, 2.0F);
 		float var1 = 0.5F;
-		this.leg1 = new ModelRenderer(0, 16);
+		this.leg1 = new ModelRenderer(this, 0, 16);
 		this.leg1.addBox(-2.0F, 0.0F, -2.0F, 4, 6, 4, var1);
 		this.leg1.setRotationPoint(-3.0F, 12.0F, 7.0F);
-		this.leg2 = new ModelRenderer(0, 16);
+		this.leg2 = new ModelRenderer(this, 0, 16);
 		this.leg2.addBox(-2.0F, 0.0F, -2.0F, 4, 6, 4, var1);
 		this.leg2.setRotationPoint(3.0F, 12.0F, 7.0F);
-		this.leg3 = new ModelRenderer(0, 16);
+		this.leg3 = new ModelRenderer(this, 0, 16);
 		this.leg3.addBox(-2.0F, 0.0F, -2.0F, 4, 6, 4, var1);
 		this.leg3.setRotationPoint(-3.0F, 12.0F, -5.0F);
-		this.leg4 = new ModelRenderer(0, 16);
+		this.leg4 = new ModelRenderer(this, 0, 16);
 		this.leg4.addBox(-2.0F, 0.0F, -2.0F, 4, 6, 4, var1);
 		this.leg4.setRotationPoint(3.0F, 12.0F, -5.0F);
 	}
--- /dev/null
+++ net/minecraft/src/EntityCritFX.java
@@ -1,0 +1,68 @@
+package net.minecraft.src;
+
+public class EntityCritFX extends EntityFX {
+	private boolean field_35136_ay;
+	float field_35137_a;
+
+	public EntityCritFX(World var1, double var2, double var4, double var6, double var8, double var10, double var12) {
+		this(var1, var2, var4, var6, var8, var10, var12, 1.0F);
+	}
+
+	public EntityCritFX(World var1, double var2, double var4, double var6, double var8, double var10, double var12, float var14) {
+		super(var1, var2, var4, var6, 0.0D, 0.0D, 0.0D);
+		this.field_35136_ay = true;
+		this.motionX *= (double)0.1F;
+		this.motionY *= (double)0.1F;
+		this.motionZ *= (double)0.1F;
+		this.motionX += var8 * 0.4D;
+		this.motionY += var10 * 0.4D;
+		this.motionZ += var12 * 0.4D;
+		this.particleRed = this.particleGreen = this.particleBlue = (float)(Math.random() * (double)0.3F + (double)0.6F);
+		this.particleScale *= 12.0F / 16.0F;
+		this.particleScale *= var14;
+		this.field_35137_a = this.particleScale;
+		this.particleMaxAge = (int)(6.0D / (Math.random() * 0.8D + 0.6D));
+		this.particleMaxAge = (int)((float)this.particleMaxAge * var14);
+		this.noClip = false;
+		this.particleTextureIndex = 65;
+		this.onUpdate();
+	}
+
+	public void renderParticle(Tessellator var1, float var2, float var3, float var4, float var5, float var6, float var7) {
+		if(this.field_35136_ay) {
+			float var8 = ((float)this.particleAge + var2) / (float)this.particleMaxAge * 32.0F;
+			if(var8 < 0.0F) {
+				var8 = 0.0F;
+			}
+
+			if(var8 > 1.0F) {
+				var8 = 1.0F;
+			}
+
+			this.particleScale = this.field_35137_a * var8;
+			super.renderParticle(var1, var2, var3, var4, var5, var6, var7);
+		}
+	}
+
+	public void onUpdate() {
+		this.prevPosX = this.posX;
+		this.prevPosY = this.posY;
+		this.prevPosZ = this.posZ;
+		if(this.particleAge++ >= this.particleMaxAge) {
+			this.setEntityDead();
+		}
+
+		this.moveEntity(this.motionX, this.motionY, this.motionZ);
+		this.particleGreen = (float)((double)this.particleGreen * 0.96D);
+		this.particleBlue = (float)((double)this.particleBlue * 0.9D);
+		this.motionX *= (double)0.7F;
+		this.motionY *= (double)0.7F;
+		this.motionZ *= (double)0.7F;
+		this.motionY -= (double)0.02F;
+		if(this.onGround) {
+			this.motionX *= (double)0.7F;
+			this.motionZ *= (double)0.7F;
+		}
+
+	}
+}
--- net/minecraft/src/GameSettings.java
+++ net/minecraft/src/GameSettings.java
@@ -48,6 +48,7 @@
 	public boolean field_22273_E = false;
 	public float field_22272_F = 1.0F;
 	public float field_22271_G = 1.0F;
+	public float fovSetting = 0.0F;
 	public int guiScale = 0;
 
 	public GameSettings(Minecraft var1, File var2) {
@@ -84,6 +85,10 @@
 			this.mc.sndManager.onSoundOptionsChanged();
 		}
 
+		if(var1 == EnumOptions.FOV) {
+			this.fovSetting = var2;
+		}
+
 		if(var1 == EnumOptions.SENSITIVITY) {
 			this.mouseSensitivity = var2;
 		}
@@ -139,7 +144,7 @@
 	}
 
 	public float getOptionFloatValue(EnumOptions var1) {
-		return var1 == EnumOptions.MUSIC ? this.musicVolume : (var1 == EnumOptions.SOUND ? this.soundVolume : (var1 == EnumOptions.SENSITIVITY ? this.mouseSensitivity : 0.0F));
+		return var1 == EnumOptions.FOV ? this.fovSetting : (var1 == EnumOptions.MUSIC ? this.musicVolume : (var1 == EnumOptions.SOUND ? this.soundVolume : (var1 == EnumOptions.SENSITIVITY ? this.mouseSensitivity : 0.0F)));
 	}
 
 	public boolean getOptionOrdinalValue(EnumOptions var1) {
@@ -164,7 +169,7 @@
 		String var3 = var2.translateKey(var1.getEnumString()) + ": ";
 		if(var1.getEnumFloat()) {
 			float var5 = this.getOptionFloatValue(var1);
-			return var1 == EnumOptions.SENSITIVITY ? (var5 == 0.0F ? var3 + var2.translateKey("options.sensitivity.min") : (var5 == 1.0F ? var3 + var2.translateKey("options.sensitivity.max") : var3 + (int)(var5 * 200.0F) + "%")) : (var5 == 0.0F ? var3 + var2.translateKey("options.off") : var3 + (int)(var5 * 100.0F) + "%");
+			return var1 == EnumOptions.SENSITIVITY ? (var5 == 0.0F ? var3 + var2.translateKey("options.sensitivity.min") : (var5 == 1.0F ? var3 + var2.translateKey("options.sensitivity.max") : var3 + (int)(var5 * 200.0F) + "%")) : (var1 == EnumOptions.FOV ? (var5 == 0.0F ? var3 + var2.translateKey("options.fov.min") : (var5 == 1.0F ? var3 + var2.translateKey("options.fov.max") : var3 + (int)(70.0F + var5 * 40.0F))) : (var5 == 0.0F ? var3 + var2.translateKey("options.off") : var3 + (int)(var5 * 100.0F) + "%"));
 		} else if(var1.getEnumBoolean()) {
 			boolean var4 = this.getOptionOrdinalValue(var1);
 			return var4 ? var3 + var2.translateKey("options.on") : var3 + var2.translateKey("options.off");
@@ -202,6 +207,10 @@
 					if(var3[0].equals("mouseSensitivity")) {
 						this.mouseSensitivity = this.parseFloat(var3[1]);
 					}
+					
+					if(var3[0].equals("fov")) {
+						this.fovSetting = this.parseFloat(var3[1]);
+					}
 
 					if(var3[0].equals("invertYMouse")) {
 						this.invertMouse = var3[1].equals("true");
@@ -278,6 +287,7 @@
 			var1.println("sound:" + this.soundVolume);
 			var1.println("invertYMouse:" + this.invertMouse);
 			var1.println("mouseSensitivity:" + this.mouseSensitivity);
+			var1.println("fov:" + this.fovSetting);
 			var1.println("viewDistance:" + this.renderDistance);
 			var1.println("guiScale:" + this.guiScale);
 			var1.println("bobView:" + this.viewBobbing);
--- net/minecraft/src/ModelBase.java
+++ net/minecraft/src/ModelBase.java
@@ -1,8 +1,13 @@
 package net.minecraft.src;
 
+import java.util.ArrayList;
+import java.util.List;
+import java.util.Random;
+
 public abstract class ModelBase {
 	public float onGround;
 	public boolean isRiding = false;
+	public List field_35394_j = new ArrayList();
 
 	public void render(float var1, float var2, float var3, float var4, float var5, float var6) {
 	}
@@ -11,5 +16,9 @@
 	}
 
 	public void setLivingAnimations(EntityLiving var1, float var2, float var3, float var4) {
+	}
+
+	public ModelRenderer func_35393_a(Random var1) {
+		return (ModelRenderer)this.field_35394_j.get(var1.nextInt(this.field_35394_j.size()));
 	}
 }
